---
title: 沈逸老师课程
author: yirufeng
pin: false
toc: true
mathjax: false
sidebar:
  - blogger
  - webinfo
  - tagcloud
  - category
categories:
  - null
tags:
  - null
  - null
date: 2021-05-16 13:56:25
summary:
---


## 沈逸老师go-micro课程
{% folding 第一章： %}

### 环境准备

> 本环境基于Macos搭建，运行的go版本是1.14.11，由于原先使用的1.15.5依赖包对应版本不存在或冲突修改后无法解决，所以只能修改go版本

1. 进入项目：首先初始化我们的go.mod文件
2. 执行命令：`go get github.com/micro/go-micro/v2`
3. 执行命令：`go get github.com/micro/go-plugins/registry/consul/v2`

参考：https://segmentfault.com/a/1190000023529475

### 开张课：安装框架并创建第一个web的api

前期铺垫：
1. Go基础篇并了解grpc
2. gin实战教学
3. go-kit微服务入门
4. grpc+go实战教学入门

go-micro做微服务相关的体系建设更侧重于服务治理

1. 创建一个端口为8080的服务：代码如下

第一个微服务代码：
```go
package main

/**
 * @Author: yirufeng
 * @Date: 2021/5/14 10:00 上午
 * @Desc:
 **/

import (
	"github.com/micro/go-micro/web"
	"net/http"
)

func main() {
	//定义一个服务
	server := web.NewService(web.Address(":8080"))

	server.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
		w.Write([]byte("hello world!"))
	})

	//运行服务
	server.Run()
}
```

如果运行代码报错:
```go
# github.com/coreos/etcd/clientv3/balancer/resolver/endpoint
../../../../../go/pkg/mod/github.com/coreos/etcd@v3.3.25+incompatible/clientv3/balancer/resolver/endpoint/endpoint.go:114:78: undefined: resolver.BuildOption
../../../../../go/pkg/mod/github.com/coreos/etcd@v3.3.25+incompatible/clientv3/balancer/resolver/endpoint/endpoint.go:182:31: undefined: resolver.ResolveNowOption
# github.com/coreos/etcd/clientv3/balancer/picker
../../../../../go/pkg/mod/github.com/coreos/etcd@v3.3.25+incompatible/clientv3/balancer/picker/err.go:37:44: undefined: balancer.PickOptions
../../../../../go/pkg/mod/github.com/coreos/etcd@v3.3.25+incompatible/clientv3/balancer/picker/roundrobin_balanced.go:55:54: undefined: balancer.PickOptions
# github.com/micro/go-micro/transport/quic
../../../../../go/pkg/mod/github.com/micro/go-micro@v1.18.0/transport/quic/quic.go:54:12: q.s.Close undefined (type quic.Session has no field or method Close)
../../../../../go/pkg/mod/github.com/micro/go-micro@v1.18.0/transport/quic/quic.go:121:3: unknown field 'IdleTimeout' in struct literal of type quic.Config
```

解决办法：go.mod文件夹中加上下面两句话
```
replace google.golang.org/grpc => google.golang.org/grpc v1.26.0
replace github.com/lucas-clemente/quic-go => github.com/lucas-clemente/quic-go v0.14.1
```
参考：
1. https://github.com/etcd-io/etcd/issues/12124#issuecomment-674368288
2. https://github.com/etcd-io/etcd/issues/11931
3. https://www.codenong.com/cs109250534/


遇到的问题2：`panic: qtls.ConnectionState not compatible with tls.ConnectionState`

最后以上的问题都采用一种策略，删除原有go版本并且下载go1.14.11版本得到了解决，之后执行命令`go get -u github.com/micro/go-micro`
就是go的版本不要使用go1.15

### 引入外部框架gin生成web api
1. 安装gin：`go get -u github.com/gin-gonic/gin`
2. 编写如下代码:
```go
package main

/**
 * @Author: yirufeng
 * @Date: 2021/5/14 10:00 上午
 * @Desc:
 **/

import (
	"github.com/gin-gonic/gin"
	"github.com/micro/go-micro/web"
	"net/http"
)

func main() {
	ginRouter := gin.Default()
	ginRouter.Handle("GET", "/user", func(c *gin.Context) {
		c.String(http.StatusOK, "user api")
	})
	ginRouter.Handle("GET", "/news", func(c *gin.Context) {
		c.String(http.StatusOK, "news api")
	})

	//定义一个服务
	server := web.NewService(
		web.Address(":8080"),
		web.Handler(ginRouter),
	)

	//运行服务
	server.Run()
}
```

注意：web.Handler()参数要传入一个实现http.Handler接口的结构体。我们gin中的http的Engine就实现了这个http.Handler接口

### 服务注册：将服务注册到consul
![E41b9r](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/E41b9r.png)

1. 启动consul集群
2. 编写如下代码：
```go
package main

/**
 * @Author: yirufeng
 * @Date: 2021/5/14 10:00 上午
 * @Desc:
 **/

import (
	"github.com/gin-gonic/gin"
	"github.com/micro/go-micro/v2/registry"
	"github.com/micro/go-micro/v2/web"
	"github.com/micro/go-plugins/registry/consul/v2"
	"net/http"
)

func main() {
	consulReg := consul.NewRegistry(
		//填上consul主节点的ip
		registry.Addrs(":8500"),
	)
	ginRouter := gin.Default()
	ginRouter.Handle("GET", "/user", func(c *gin.Context) {
		c.String(http.StatusOK, "user api")
	})
	ginRouter.Handle("GET", "/news", func(c *gin.Context) {
		c.String(http.StatusOK, "news api")
	})

	//定义一个服务
	server := web.NewService(
		//起一个服务名字
		web.Name("prodservice"),
		//服务的地址
		web.Address(":8080"),
		//服务对应的Handler
		web.Handler(ginRouter),
		//将server注册到consul里面
		web.Registry(consulReg),
	)

	//运行服务
	server.Run()
}
```


再次运行一个程序，搭建效果：
![Zj6A7E](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Zj6A7E.png)

### 模拟运行api(主站API，商品API)

1. ![74awFE](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/74awFE.png)
2. ![6T6TGm](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/6T6TGm.png)
3. 在项目目录下编写一个index_main.go文件，表示主站api(不需要注册到consul里面)，键入如下内容：![H37D8d](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/H37D8d.png)
4. 在项目目录下编写一个ProdService文件夹并编写prod_main.go文件，表示商品api(需要注册到consul里面)，键入如下内容：![nZN47j](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/nZN47j.png) ![fh0uRs](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/fh0uRs.png) ![EDlVkY](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/EDlVkY.png)


### 服务发现(1)：获取consul服务列表，selector随机选择

我们上节课建立了两个API：主站API和商品API，需要使用主站API去调用商品API，这里我们使用http去调用。

1. 创建test.go
2. 启动我们的ProductService的商品微服务
3. 再次创建一个文件，与我们的ProductService的代码一样(言外之意就是两个节点共同承担这个服务)，只是注册地址不同而已
4. 编写test.go文件，键入如下内容：
```go
package main

import (
	"fmt"
	"github.com/micro/go-micro/v2/client/selector"
	"github.com/micro/go-micro/v2/registry"
	"github.com/micro/go-plugins/registry/consul/v2"
)

/**
 * @Author: yirufeng
 * @Date: 2021/5/14 8:51 下午
 * @Desc:
 **/

func main() {
	//服务注册和启动的时候需要用到Reg，同时也是可以单独使用的
	consulReg := consul.NewRegistry(registry.Addrs("localhost:8500"))


	//通过服务名来获取对应的服务
	service, err := consulReg.GetService("ProductService")
	if err != nil {
		panic(err)
	}


	//随机选取一个服务
	next := selector.Random(service)
	node, err := next()
	if err != nil {
		panic(err)
	}
	//获取到一个服务的基本方式
	fmt.Println(node.Id, node.Address, node.Metadata)
}
```


注意： selector是在go-micro/client/selector.go文件中。说明与我们的客户端相关，当我们有服务在服务端注册之后，就需要使用相关客户端的包以及相关的封装来对服务进行获取和调用。
演示结果：
1. ![yzHBlf](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/yzHBlf.png)
2. 获取对应的节点：![40U9wg](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/40U9wg.png) + ![EIHxI0](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/EIHxI0.png)

### 穿插知识点：使用内置命令参数启动以及注册多个服务

1. ![C0MfW2](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/C0MfW2.png)
2. ![tC7IbB](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/tC7IbB.png)
3. 
之前服务都是写在代码里面写死的（比如我们这里对于同一个服务注册到不同的端口，之前都是拷贝出来一个Go文件，然后修改对应的地址以及端口 ）。一般是通过配置文件的形式(比如将名称和端口放在配置文件中)，另外还有一种是命令行参数的方式（![KENjiE](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/KENjiE.png)）

演示：这里我们通过命令行参数指定我们的address。代码：![N8Sz8q](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/N8Sz8q.png)
之后便可以通过命令行运行go文件的时候将我们的address参数传递过去，运行如下代码：
`go run prod_main.go --server_address :8081`
`go run prod_main.go --server_address :8082`

只有需要使用到命令行参数的时候才需要使用Init，

在代码里面是不需要指定端口的，我们在使用命令行参数启动的时候进行指定

命令行参数(如何查看请点击`service.Init()`)：![fOMUgS](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/fOMUgS.png)

### 服务发现(2)：开启多个服务，用轮询的方式获取服务

上次课我们演示了随机选取节点的方法，但是一般我们不常用（因为可能会造成部分节点压力大部分节点压力小），我们常用的是轮询的方式
我们首先要给对应的服务创建多个节点，可以写一个批处理文件（自己这里是运行3条命令）。

1. 命令行运行`go run prod_main.go --server_address :8001`
2. 命令行运行`go run prod_main.go --server_address :8002`
3. 命令行运行`go run prod_main.go --server_address :8003`
4. 将我们之前的Random改成`RoundRobin()`进行轮询(如果某个节点在某一瞬间崩溃将会有消息通知机制获取到节点崩溃的信息，所以之后是不会选择这个节点的)

代码：![RC2P1O](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/RC2P1O.png)


### 服务调用：基本方式调用API
1. ![eWUL3U](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/eWUL3U.png)
2. ![A3I1o7](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/A3I1o7.png)


代码：
1. ![JsxGSQ](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/JsxGSQ.png)
2. ![DIgxNg](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/DIgxNg.png)


几个步骤：
1. 获取注册中心
2. 得到服务
3. 选择服务对应的一个节点(讲解了随机选择，以及轮询的方式)
3. 调用callAPI

### 第九课：[重要]服务调用：使用插件、调用http api的正确姿势（初步）
上次课我们使用了go最原始的方式来调用API，这节课我们使用插件的方式来调用我们的API

1. ![m7hzPT](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/m7hzPT.png)
2. ![HAKSAO](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/HAKSAO.png)

步骤：
1. `go get -u https://github.com/micro/go-plugins`
2. 通过函数的方式快速创建一个selector(需要设置策略，因为默认是随机的，我们要设置成轮询)
3. 创建一个方法调用我们的API：![Tf9Otz](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Tf9Otz.png)
   1. 函数内部创建一个客户端，需要传入一个选择器以及设置我们的响应的数据类型(默认是proto，我们要改成json)
   2. 客户端调用请求方法，第一个参数是我们的服务名，第二个参数是路由名，第三个参数是提交api的时候请求所需要的参数，这里我们没有参数所以传入一个空的map
   3. 使用刚创建的客户端调用我们刚刚创建的请求，
      - 第一个参数是context,我们使用`context.Background()`填入一个空context即可
      - 第二个参数是request，我们使用刚刚创建的request
      - 第三个参数是response，因为请求的响应会将数据存放到我们的response中
4. 编写prod_main.go中的/v1/prods 对应的方法 ![vr7ZZF ](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/vr7ZZF.png)
5. ![D7aqhd](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/D7aqhd.png)

![BjW1NW](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/BjW1NW.png)
![cStyeZ](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/cStyeZ.png)`

### 调用http api的姿势，带参数调用(有思考题)


上节课我们调用的时候是没有参数的：![9RYsym](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/9RYsym.png)

这里假设我们调用一个创建商品的API，需要传入一个创建的数量。

1. ![cB16fx](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/cB16fx.png)
2. ![MqTa7L](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/MqTa7L.png)
3. 尝试调用我们上节课写的API：因为多加了一个参数，所以需要传入一个整形的Size参数 ![sZ9Dye](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/sZ9Dye.png)

### 调用http api引入protobuf，生成参数和响应模型
protobuf除了可以用在我们的grpc，还可以用来生成我们的model

1. ![MykmlJ](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/MykmlJ.png)
2. ![jxhOug](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/jxhOug.png)
3. ![9CdBia](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/9CdBia.png)
4. 执行命令生成proto对应的go文件：![MNI1uH](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/MNI1uH.png)
5. 修改test.go中我们上节课编写的callAPI2的代码：![ftON5R](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/ftON5R.png)




### 处理参数模型中的json tag不一致问题


当我们服务器对应的model加上tag之后，返回的数据是对应于tag标签中json指定的值，
但是我们的Protobuf对应的文件是没有办法获取我们修改后的内容的，如何改变呢？
方法一：手动改我们proto文件生成的对应的go文件
方法二：借助第三方库。![UU0j9G](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/UU0j9G.png) 安装之后，会有一个可执行的命令：`protoc-go-inject-tag`
可以帮助我们统一完成tag的注入和修改，不需要手动一个一个修改
1. ![fzOiz4](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/fzOiz4.png)
2. 生成proto文件对应的go代码，然后执行命令：![WC81ui](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/WC81ui.png)
3. ![PX2Aps](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/PX2Aps.png)
4. 对于上面几节课以及当前的命令我们可以写一个shell脚本，将我们的命令放置进去

注意：gin里面用到的model也是可以使用我们的proto文件自己来生成的。



思路：![iT3tr1](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/iT3tr1.png)

{% endfolding %}

{% folding 第二章： %}

### 第二章：使用grpc构建一个简易商品服务，注册到consul中


除了看懂关键是要多练习。不练等于没有看


1. ![gFh6dB](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/gFh6dB.png)
2. ![j7Mc7m](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/j7Mc7m.png)
3. ![6UgQAB](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/6UgQAB.png)

代码：
1. 创建一个新的项目go-micro-grpc
2. 安装我们的环境，老师的是另外的指令进行安装，自己需要使用如下两条指令：
   1. `go get github.com/micro/go-micro/v2`
   2. `go get github.com/micro/go-plugins/registry/consul/v2`
   3. 安装protobuf `go get -u github.com/golang/protobuf/{proto,protoc-gen-go}`
   4. `go get github.com/favadi/protoc-go-inject-tag`
3. 编写Proto文件：项目目录下创建Services文件夹，然后创建protos文件夹 并 进入protos文件夹。
   1. 创建Models.proto文件(只是用来存放模型不存放Request以及Response的proto文件)：![pY3se9](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/pY3se9.png)
   2. 创建ProdService.proto文件(前面我们说了要调用一个创建商品列表的方法，传入一个整数，表示创建商品的个数，然后返回的响应里面就是一个商品列表，里面商品的个数就是我们传入的整数)：![5nA9nj](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/5nA9nj.png)
4. 生成proto对应的go文件：因为要执行命令，老师直接为了避免重复敲生成proto到go文件的命令，直接将我们的命令存放到了bat文件中：![l2ngkl](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/l2ngkl.png)
5. 创建ServiceImpl文件夹，是对我们service具体服务的实现，在最终调用的时候是需要将我们相关接口拷贝到客户端的，但是不需要将具体实现拷贝过去
   1. 在ServiceImpl文件夹下创建ProdService.go文件，是真正的实现类。![IDI5NN](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/IDI5NN.png)
   2. ![kKjdtc](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/kKjdtc.png)   ![Hjj18E](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Hjj18E.png)
6. 项目目录下编写main.go文件： 
   - 原因(micro除了帮我们定义接口，还有一个方法就是帮助我们自己实现的micro接口的handler与对应的服务绑定。因为到现在为止，我们只是创建了一个空服务，并没有任何方法。)
   - ![Cv3KRW](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Cv3KRW.png)
   
解读：
```
# 项目根目录下执行这个命令，表示我们输出的go代码位于当前目录下的protos文件夹，
# 具体输出的目录就是 go_out指定的路径 + option go_package指定的路径(这个路径是相对于go_out指定的路径)
# 同时输出的Go文件的包名就是option go_package最后一个/右边的名字
# 并且我们要对./Services/protos/Models.proto文件进行编译
protoc --proto_path=./Services/protos --go_out=./Services/ --micro_out=. ./Services/protos/Models.proto
```

下节课代码写在我们第一章里面gin中进行调用，只留服务部分，其他代码都是删除的，然后调用grpc并且上一章代码是不需要注册到服务中心，只要grpc服务是注册到consul服务的。当我们停掉对应的服务之后，consul中会立刻看不到，因为会有一个反注册。


除了看懂关键是要多练习。

### gin中调用上节课构建的rpc服务(获取商品列表)

### gin中调用rpc服务（参数名处理，代码基本封装）

### 在gin中调用上节课构建的rpc服务（获取商品列表）

### 熔断器使用(1)hystrix初步，捕获超时报错

### 熔断器使用(2)服务降级的使用

### 熔断器使用(3)初步整合hystrix到go-micro中

### 上节课课后作业 增加商品详细API（grpc）

### 熔断器使用(4) 通用降级方法的编写姿势

### 熔断器使用(5) 熔断器的参数设置

### 微服务工具箱(运行时)学习了解micro、复习、列出所有服务

### 使用micro工具查看和调用我们的服务

### 使用micro作为我们的rpc服务创建http api网关

### （选学）创建grpc网关的基本设置和运行方法

### 复习课、基本接口（用户注册接口）

### 引入gorm，用户数据入库

### 用户注册场景、数据验证(1) 第三方验证库、自定义错误信息

### 用户注册场景、数据验证(2) 自定义tag验证、正则验证

### 用户注册场景、数据验证(3) 切片属性的验证(string切片)


### 补充go-micro升级到1.14之后的一些变动和安装方式

### 新版micro工具弃用consul，迁移etcd方法，api管理界面

### 普通api集成到go-micro体系中：手工集成

### 普通api集成到go-micro体系中：代码注册与反注册

### 普通API集成到go-micro体系中：测试调用外部api(http)


### 普通API集成到go-micro体系中：集成php api(swoft为例)


{% endfolding %}




生成双向证书的步骤：
1. `sudo su`进入root用户
2. 进入`~/Desktop`，然后创建ssl文件夹
3. 执行`openssl`命令，键入如下命令：
   1. `genrsa -out ca.key 2048`
   2. `req -new -x509 -days 3650 -key ca.key -out ca.pem`
   3. 以上两步参考：![riVKbi](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/riVKbi.png)
   4. `genrsa -out server.key 2048`
   5. `req -new -key server.key -out server.csr` 如果执行该命令出错，则重新退出openssl然后重新进入，然后重新执行`req -new -key server.key -out server.csr`
   6. `x509 -req -sha256 -CA ca.pem -CAkey ca.key -CAcreateserial -days 3650 -in server.csr -out server.pem`
   7. 以上几步参考：![KOomHh](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/KOomHh.png)
   8. `ecparam -genkey -name secp384r1 -out client.key`
   9. `req -new -key client.key -out client.csr`
   10. `x509 -req -sha256 -CA ca.pem -CAkey ca.key -CAcreateserial -days 3650 -in client.csr -out client.pem`
   11. 以上几步参考：![YZ99JO](https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/YZ99JO.png)




[文章头部frot-matter编写参考](https://xaoxuu.com/wiki/volantis/page-settings/front-matter/)


所有样式来源于：https://xaoxuu.com/wiki/volantis/tag-plugins/

## issue标签
[参考](https://xaoxuu.com/wiki/volantis/tag-plugins/issues/)

{% issues timeline | api=https://gitee.com/api/v5/repos/xaoxuu/timeline/issues?state=open&creator=xaoxuu&sort=created&direction=desc&page=1&per_page=100 %}


## 相册

### 一行一图
{% gallery %}
![图片描述](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)
{% endgallery %}

### 一行多图

{% gallery %}
![图片描述](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg)
![图片描述](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg)
![图片描述](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg)
{% endgallery %}

### 多行多图

{% gallery stretch, 4 %}
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg)
![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg)
{% endgallery %}


## github卡片标签

| {% ghcard xaoxuu %}                | {% ghcard xaoxuu, theme=vue %}             |
| ---------------------------------- | ------------------------------------------ |
| {% ghcard xaoxuu, theme=buefy %}   | {% ghcard xaoxuu, theme=solarized-light %} |
| {% ghcard xaoxuu, theme=onedark %} | {% ghcard xaoxuu, theme=solarized-dark %}  |
| {% ghcard xaoxuu, theme=algolia %} | {% ghcard xaoxuu, theme=calm %}            |


| {% ghcard volantis-x/hexo-theme-volantis %}                | {% ghcard volantis-x/hexo-theme-volantis, theme=vue %}             |
| ---------------------------------------------------------- | ------------------------------------------------------------------ |
| {% ghcard volantis-x/hexo-theme-volantis, theme=buefy %}   | {% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %} |
| {% ghcard volantis-x/hexo-theme-volantis, theme=onedark %} | {% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %}  |
| {% ghcard volantis-x/hexo-theme-volantis, theme=algolia %} | {% ghcard volantis-x/hexo-theme-volantis, theme=calm %}            |

## 分栏标签

{% tabs tab-id %}

<!-- tab 栏目1 -->

。。。

<!-- endtab -->

<!-- tab 栏目2 -->

！！！

<!-- endtab -->

{% endtabs %}

## 引用标签


{% note, 可以在配置文件中设置默认样式，为简单的一句话提供最的简便写法。 %}
{% note quote, note quote 适合引用一段话 %}
{% note info, note info 默认主题色，适合中性的信息 %}
{% note warning, note warning 默认黄色，适合警告性的信息 %}
{% note danger, note error/danger 默认红色，适合危险性的信息 %}
{% note success, note done/success 默认绿色，适合正确操作的信息 %}


{% note radiation, note radiation 默认样式 %}
{% note radiation yellow, note radiation yellow 可以加上颜色 %}
{% note bug red, note bug red 说明还存在的一些故障 %}
{% note link green, note link green 可以放置一些链接 %}
{% note paperclip blue, note paperclip blue 放置一些附件链接 %}
{% note todo, note todo 待办事项 %}
{% note guide clear, note guide clear 可以加上一段向导 %}
{% note download, note download 可以放置下载链接 %}
{% note message gray, note message gray 一段消息 %}
{% note up, note up 可以说明如何进行更新 %}
{% note undo light, note undo light 可以说明如何撤销或者回退 %}

## 引用块标签

{% noteblock, 标题（可选） %}

Windows 10不是為所有人設計,而是為每個人設計

{% noteblock done %}
嵌套测试： 请坐和放宽，我正在帮你搞定一切...
{% endnoteblock %}

{% folding yellow, Folding 测试： 点击查看更多 %}

{% note warning, 不要说我们没有警告过你 %}
{% noteblock bug red %}
我们都有不顺利的时候
{% endnoteblock %}

{% endfolding %}
{% endnoteblock %}

## 单选列表
{% radio 纯文本测试 %}
{% radio checked, 支持简单的 [markdown](https://guides.github.com/features/mastering-markdown/) 语法 %}
{% radio red, 支持自定义颜色 %}
{% radio green, 绿色 %}
{% radio yellow, 黄色 %}
{% radio cyan, 青色 %}
{% radio blue, 蓝色 %}

## 多选列表

{% checkbox 纯文本测试 %}
{% checkbox checked, 支持简单的 [markdown](https://guides.github.com/features/mastering-markdown/) 语法 %}
{% checkbox red, 支持自定义颜色 %}
{% checkbox green checked, 绿色 + 默认选中 %}
{% checkbox yellow checked, 黄色 + 默认选中 %}
{% checkbox cyan checked, 青色 + 默认选中 %}
{% checkbox blue checked, 蓝色 + 默认选中 %}
{% checkbox plus green checked, 增加 %}
{% checkbox minus yellow checked, 减少 %}
{% checkbox times red checked, 叉 %}


## 时间线

{% timeline 时间线标题（可选） %}

{% timenode 时间节点（标题） %}

正文内容

{% endtimenode %}

{% timenode 时间节点（标题） %}

正文内容

{% endtimenode %}

{% endtimeline %}

## 网站卡片标签

{% sitegroup %}
{% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png, description=简约风格 %}
{% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=这是一段关于这个网站的描述文字 %}
{% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 %}
{% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 %}
{% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=这是一段关于这个网站的描述文字 %}
{% endsitegroup %}


{% folding 查看图片测试 %}

![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)

{% endfolding %}

{% folding cyan open, 查看默认打开的折叠框 %}

这是一个默认打开的折叠框。

{% endfolding %}

{% folding green, 查看代码测试 %}

{% endfolding %}

{% folding yellow, 查看列表测试 %}

- haha
- hehe

{% endfolding %}

{% folding red, 查看嵌套测试 %}

{% folding blue, 查看嵌套测试2 %}

{% folding 查看嵌套测试3 %}

hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span>

{% endfolding %}

{% endfolding %}

{% endfolding %}
