<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SSLè¯ä¹¦ç”³è¯·å¹¶å®‰è£…åˆ°æœåŠ¡å™¨</title>
      <link href="/2022/10/13/SSL%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E5%B9%B6%E5%AE%89%E8%A3%85%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2022/10/13/SSL%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E5%B9%B6%E5%AE%89%E8%A3%85%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><div class="note info"><p>ç¯å¢ƒï¼šæœåŠ¡å™¨åœ¨è…¾è®¯äº‘ï¼ŒåŸŸåæ”¾åœ¨é˜¿é‡Œäº‘</p></div><p>SSLè¯ä¹¦ç”³è¯·å¹¶å®‰è£…åˆ°æœåŠ¡å™¨ï¼š</p><ol><li>ç”³è¯·è¯ä¹¦ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/TiqMiv.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/TiqMiv.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="TiqMiv"></li><li>æŒ‰ç…§è¦æ±‚åœ¨åŸŸåè´­ä¹°çš„åœ°æ–¹æ·»åŠ ä¸€æ¡è§£æè®°å½•æ¥è¿›è¡ŒéªŒè¯ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/JijxJG.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/JijxJG.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="JijxJG"></li><li>è¯ä¹¦é¢å‘ä¹‹åå¼€å§‹å®‰è£…éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šè¿›è¡Œä½¿ç”¨ï¼š<a href="https://cloud.tencent.com/document/product/400/4143">å‚è€ƒæ–‡ç« </a></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™æ­å»º </tag>
            
            <tag> sslè¯ä¹¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½æ–‡æ¨è</title>
      <link href="/2022/10/10/%E5%A5%BD%E6%96%87%E6%8E%A8%E8%8D%90/"/>
      <url>/2022/10/10/%E5%A5%BD%E6%96%87%E6%8E%A8%E8%8D%90/</url>
      
        <content type="html"><![CDATA[<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><ol><li>Linuxäº‘è®¡ç®—ç½‘ç»œä¹‹<a href="https://mp.weixin.qq.com/s/z2Ji31CsY-rMXVmf9geY_g">Linux æœåŠ¡å™¨æ€§èƒ½å‚æ•°æŒ‡æ ‡æ€ä¹ˆçœ‹ï¼Ÿ</a></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¥½æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰‘æŒ‡offerä¸“é¡¹çªç ´ç‰ˆ</title>
      <link href="/2022/10/09/%E5%89%91%E6%8C%87offer%E4%B8%93%E9%A1%B9%E7%AA%81%E7%A0%B4%E7%89%88/"/>
      <url>/2022/10/09/%E5%89%91%E6%8C%87offer%E4%B8%93%E9%A1%B9%E7%AA%81%E7%A0%B4%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><ol><li>ä¸€ä¸ªæ“ä½œå¯èƒ½äº§ç”Ÿæ–°çš„å¤´èŠ‚ç‚¹ï¼Œåˆ™å¯ä»¥<strong>å°è¯•åœ¨é“¾è¡¨çš„æœ€å‰é¢æ·»åŠ ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹æ¥ç®€åŒ–ä»£ç é€»è¾‘ï¼Œé™ä½ä»£ç å‡ºç°é—®é¢˜çš„å¯èƒ½æ€§ã€‚</strong></li><li>åŒæŒ‡é’ˆæ˜¯è§£å†³ä¸é“¾è¡¨ç›¸å…³çš„é¢è¯•é¢˜çš„ä¸€ç§å¸¸ç”¨æŠ€æœ¯ã€‚<strong>å‰ååŒæŒ‡é’ˆæ€è·¯è®©ä¸€ä¸ªæŒ‡é’ˆæå‰èµ°è‹¥å¹²æ­¥ï¼Œç„¶åå°†ç¬¬2ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œä¸¤ä¸ªæŒ‡é’ˆä»¥ç›¸åŒçš„é€Ÿåº¦ä¸€èµ·èµ°ã€‚å¿«æ…¢åŒæŒ‡é’ˆè®©å¿«çš„æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥è€Œæ…¢çš„æŒ‡é’ˆæ¯æ¬¡åªèµ°ä¸€æ­¥ã€‚</strong></li><li>å¤§éƒ¨åˆ†ä¸é“¾è¡¨ç›¸å…³çš„é¢è¯•é¢˜éƒ½æ˜¯è€ƒæŸ¥å•å‘é“¾è¡¨çš„æ“ä½œã€‚<strong>å•å‘é“¾è¡¨çš„ç‰¹ç‚¹æ˜¯åªèƒ½ä»å‰å¾€åéå†è€Œä¸èƒ½ä»åå¾€å‰éå†ã€‚å¦‚æœä¸å¾—ä¸ä»åå¾€å‰éå†é“¾è¡¨ï¼Œåˆ™å¯ä»¥æŠŠé“¾è¡¨åè½¬ä¹‹åå†éå†ã€‚</strong></li><li>å¦‚æœé“¾è¡¨ä¸­çš„èŠ‚ç‚¹é™¤äº†æœ‰æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿˜æœ‰æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆè¯¥é“¾è¡¨å°±æ˜¯åŒå‘é“¾è¡¨ã€‚ç”±äºåŒå‘é“¾è¡¨çš„æ“ä½œç‰µæ¶‰åˆ°çš„æŒ‡é’ˆæ¯”è¾ƒå¤šï¼Œå› æ­¤<strong>åº”è˜è€…åœ¨è§£å†³é¢è¯•é¢˜çš„æ—¶å€™è¦æ ¼å¤–å°å¿ƒï¼Œç¡®ä¿æ¯ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘äº†æ­£ç¡®çš„ä½ç½®ã€‚</strong></li><li>å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§ç‰¹æ®Šå½¢æ€çš„é“¾è¡¨ï¼Œå®ƒçš„æ‰€æœ‰èŠ‚ç‚¹éƒ½åœ¨ä¸€ä¸ªç¯ä¸­ã€‚<strong>åœ¨è§£å†³ä¸å¾ªç¯é“¾è¡¨ç›¸å…³çš„é¢è¯•é¢˜æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„é¿å…æ­»å¾ªç¯ï¼Œéå†é“¾è¡¨æ—¶ç­‰æ‰€æœ‰èŠ‚ç‚¹éƒ½éå†å®Œå°±è¦åœæ­¢ï¼Œä¸èƒ½ä¸€ç›´åœ¨é‡Œé¢ç»•åœˆå­å‡ºä¸æ¥ã€‚</strong></li></ol><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> å‰‘æŒ‡offer </tag>
            
            <tag> é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¹‹éƒ¨ç½²ç¯‡</title>
      <link href="/2022/10/02/hexo%E4%B9%8B%E9%83%A8%E7%BD%B2%E7%AF%87/"/>
      <url>/2022/10/02/hexo%E4%B9%8B%E9%83%A8%E7%BD%B2%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæˆ‘ä»¬è®²è§£äº†å¦‚ä½•æ­å»ºhexoæ‰€éœ€çš„åšå®¢ç¯å¢ƒï¼Œåœ¨ç¯å¢ƒæ­å»ºå¥½ä¹‹åï¼Œå¥‹ç¬”ç–¾ä¹¦ç»ˆè¦å‘ˆç°ç»™ä»–äººï¼Œæ­¤æ—¶å°±éœ€è¦çŸ¥é“å¦‚ä½•éƒ¨ç½²åˆ°åšå®¢äº†ã€‚ã€‚ã€‚</p><p>æœ¬æ–‡éƒ¨ç½²çš„åŸç†æ˜¯å°†hexoåšå®¢æºç æ¨é€åˆ°Githubåï¼Œå·¥ä½œæµè‡ªåŠ¨ç¼–è¯‘å‡ºhtmlæ–‡ä»¶åˆ°masteråˆ†æ”¯ï¼ŒåŒæ—¶æ¨é€åˆ°è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨å®ç°å›½å†…å›½å¤–åŒéƒ¨ç½²(å›½å†…ç”¨æˆ·å¯ä»¥ç§’å¼€åšå®¢)</p><h2 id="å‰æç¯å¢ƒ"><a href="#å‰æç¯å¢ƒ" class="headerlink" title="å‰æç¯å¢ƒ"></a>å‰æç¯å¢ƒ</h2><ol><li>æ‹¥æœ‰ä¸€å°è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨</li><li>æŒ‰ç…§ä¸Šæ–‡æåˆ°çš„æ­¥éª¤æ­å»ºå¥½hexoåšå®¢ç¯å¢ƒ</li></ol><h2 id="è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨"><a href="#è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨" class="headerlink" title="è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨"></a>è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨</h2><blockquote><p>é»˜è®¤å·²ç»å®‰è£…äº†git</p></blockquote><h3 id="åˆ›å»ºç”¨æˆ·å¹¶è¿›è¡Œé…ç½®"><a href="#åˆ›å»ºç”¨æˆ·å¹¶è¿›è¡Œé…ç½®" class="headerlink" title="åˆ›å»ºç”¨æˆ·å¹¶è¿›è¡Œé…ç½®"></a>åˆ›å»ºç”¨æˆ·å¹¶è¿›è¡Œé…ç½®</h3><ol><li><code>adduser git</code></li><li><code>chmod 740 /etc/sudoers</code></li><li><code>vim /etc/sudoers</code> å¹¶åœ¨<code>root    ALL=(ALL)       ALL</code>ä¸‹é¢ä¸€è¡ŒåŠ å…¥ï¼š<code>git     ALL=(ALL)       ALL</code></li><li><code>chmod 400 /etc/sudoers</code></li><li>è®¾ç½®å¯†ç : <code>sudo passwd git</code></li><li><code>su git</code></li><li><code>mkdir ~/.ssh</code></li><li>æœ¬åœ°æœºå™¨ä¸Šæ‰§è¡Œå‘½ä»¤ï¼š<code>ssh-keygen -t rsa -C &quot;é‚®ç®±&quot;</code>ç”Ÿæˆsshæ–‡ä»¶ï¼Œæ³¨æ„ä¸€å®šè¦æŒ‡å®šç”Ÿæˆçš„sshæ–‡ä»¶åå¦åˆ™ä¼šè¦†ç›–ä¹‹å‰çš„sshæ–‡ä»¶ï¼ˆå¦éœ€è¦æ³¨æ„çš„æ˜¯sshçš„æ—¶å€™ï¼‰</li><li>è¿œç¨‹æœºå™¨ä¸Šæ‰§è¡Œï¼š<code>vim ~/.ssh/authorized_keys</code> å°†å…¬é’¥æ–‡ä»¶çš„å†…å®¹æ‹·è´è¿›å»</li><li>æœ¬åœ°æœºå™¨ä¸Šæ‰§è¡Œï¼š<code>ssh -v git@æœºå™¨åœ°å€ -i å…¬é’¥æ–‡ä»¶å</code>å‘ç°å¯ä»¥ç™»å½•åˆ°æœºå™¨ä¸Š</li><li></li></ol><h2 id="éƒ¨ç½²æµç¨‹"><a href="#éƒ¨ç½²æµç¨‹" class="headerlink" title="éƒ¨ç½²æµç¨‹"></a>éƒ¨ç½²æµç¨‹</h2><h3 id="ç¼–å†™å·¥ä½œæµæ–‡ä»¶"><a href="#ç¼–å†™å·¥ä½œæµæ–‡ä»¶" class="headerlink" title="ç¼–å†™å·¥ä½œæµæ–‡ä»¶"></a>ç¼–å†™å·¥ä½œæµæ–‡ä»¶</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å½“æœ‰æ”¹åŠ¨æ¨é€åˆ°masteråˆ†æ”¯æ—¶ï¼Œå¯åŠ¨Action</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">è‡ªåŠ¨éƒ¨ç½²</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">source</span> <span class="comment">#2020å¹´10æœˆågithubæ–°å»ºä»“åº“é»˜è®¤åˆ†æ”¯æ”¹ä¸ºmainï¼Œæ³¨æ„æ›´æ”¹</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">release:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">published</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">checkout:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">æ£€æŸ¥åˆ†æ”¯</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">master</span> <span class="comment">#2020å¹´10æœˆågithubæ–°å»ºä»“åº“é»˜è®¤åˆ†æ”¯æ”¹ä¸ºmainï¼Œæ³¨æ„æ›´æ”¹</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å®‰è£…</span> <span class="string">Node</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;12.x&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å®‰è£…</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">export</span> <span class="string">TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ç¼“å­˜</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å®‰è£…ä¾èµ–</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">éƒ¨ç½²åˆ°github</span> <span class="string">pages</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;sivanWu0222&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;yirufeng@foxmail.com&quot;</span></span><br><span class="line">          <span class="comment"># git clone https://github.com/xxxxx/xxxx.github.io.git .deploy_git</span></span><br><span class="line">          <span class="comment"># æ­¤å¤„åŠ¡å¿…ç”¨HTTPSé“¾æ¥ã€‚SSHé“¾æ¥å¯èƒ½æœ‰æƒé™æŠ¥é”™çš„éšæ‚£</span></span><br><span class="line">          <span class="comment"># =====æ³¨æ„.deploy_gitå‰é¢æœ‰ä¸ªç©ºæ ¼=====</span></span><br><span class="line">          <span class="comment"># è¿™è¡ŒæŒ‡ä»¤çš„ç›®çš„æ˜¯cloneåšå®¢é™æ€æ–‡ä»¶ä»“åº“ï¼Œé˜²æ­¢Hexoæ¨é€æ—¶è¦†ç›–æ•´ä¸ªé™æ€æ–‡ä»¶ä»“åº“ï¼Œè€Œæ˜¯åªæ¨é€æœ‰æ›´æ”¹çš„æ–‡ä»¶</span></span><br><span class="line">          <span class="comment"># æˆ‘æ³¨é‡Šæ‰äº†æ˜¯ä¸ºäº†åˆ·æ–°æ•´ä¸ªä»“åº“ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸æ³¨é‡Šæ‰ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°æ²¡æœ‰è¯†åˆ«åˆ°çš„æƒ…å†µ</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">cross-the-world/scp-pipeline@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">host:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_HOST</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">user:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_NAME</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">pass:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_PASS</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">connect_timeout:</span> <span class="string">10s</span></span><br><span class="line">          <span class="attr">local:</span> <span class="string">&#x27;./.deploy_git/*&#x27;</span></span><br><span class="line">          <span class="attr">remote:</span> <span class="string">yirufeng@43.154.207.212:/home/git/blog.git</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è€æ—§çš„yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Build</span> <span class="string">and</span> <span class="string">Deploy</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build-and-deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">ğŸ›ï¸</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span> <span class="comment"># If you&#x27;re using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">persist-credentials:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">and</span> <span class="string">Build</span> <span class="string">ğŸ”§</span> <span class="comment"># This example project is built using npm and outputs the result to the &#x27;build&#x27; folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span> <span class="string">--force</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">CI:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">ğŸš€</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">JamesIves/github-pages-deploy-action@releases/v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.ACCESS_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">BRANCH:</span> <span class="string">master</span> <span class="comment"># The branch the action should deploy to.</span></span><br><span class="line">          <span class="attr">FOLDER:</span> <span class="string">public</span> <span class="comment"># The folder the action should deploy.</span></span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ol><li><a href="https://yyyzyyyz.cn/posts/45dafe31d273/">æ‰‹åŠ¨éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨</a></li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cè¯­è¨€ä¸­æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³</title>
      <link href="/2022/09/28/c%E8%AF%AD%E8%A8%80%E4%B8%AD%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%97%B6%E9%97%B4%E6%88%B3/"/>
      <url>/2022/09/28/c%E8%AF%AD%E8%A8%80%E4%B8%AD%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%97%B6%E9%97%B4%E6%88%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="å­—ç¬¦ä¸²ä¸æ—¶é—´æˆ³çš„è½¬æ¢"><a href="#å­—ç¬¦ä¸²ä¸æ—¶é—´æˆ³çš„è½¬æ¢" class="headerlink" title="å­—ç¬¦ä¸²ä¸æ—¶é—´æˆ³çš„è½¬æ¢"></a>å­—ç¬¦ä¸²ä¸æ—¶é—´æˆ³çš„è½¬æ¢</h2><h3 id="æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³"><a href="#æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³" class="headerlink" title="æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³"></a>æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³</h3><p>æ€è·¯ï¼š</p><ol><li>å°†æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´ç»“æ„ä½“</li><li>å°†æ—¶é—´ç»“æ„ä½“è½¬æ¢ä¸ºå¯¹åº”çš„æ—¶é—´æˆ³(<code>time_t</code>ç±»å‹ï¼Œå…¶å®æ˜¯<code>long</code>ç±»å‹çš„åˆ«å)</li></ol><details cyan open><summary> æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³ </summary>              <div class='content'>              <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">time_t</span> <span class="title">convertDateToTimestamp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆåœ¨åé¢æ·»åŠ æ—¶é—´</span></span><br><span class="line">    <span class="keyword">char</span> dateTimeBuf[<span class="number">64</span>];</span><br><span class="line">    <span class="built_in">snprintf</span>(dateTimeBuf, <span class="keyword">sizeof</span>(dateTimeBuf), <span class="string">&quot;%s 00:00:00&quot;</span>, date.c_str());</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dateTM</span>;</span></span><br><span class="line">    strptime(dateTimeBuf, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, &amp;dateTM);</span><br><span class="line">    <span class="keyword">return</span> mktime(&amp;dateTM);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³"><a href="#æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³" class="headerlink" title="æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³"></a>æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³</h3><p>æ€è·¯ï¼š</p><ol><li>å°†æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´ç»“æ„ä½“</li><li>å°†æ—¶é—´ç»“æ„ä½“è½¬æ¢ä¸ºå¯¹åº”çš„æ—¶é—´æˆ³(<code>time_t</code>ç±»å‹ï¼Œå…¶å®æ˜¯<code>long</code>ç±»å‹çš„åˆ«å)</li></ol><details green><summary> æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³ </summary>              <div class='content'>              <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ—¶é—´æˆ³</span></span><br><span class="line"><span class="function"><span class="keyword">time_t</span> <span class="title">convertDatetimeToTimestamp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;date_time)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dtTM</span>;</span></span><br><span class="line">    strptime(date_time.c_str(), <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, &amp;dtTM);</span><br><span class="line">    <span class="keyword">return</span> mktime(&amp;dtTM);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸå­—ç¬¦ä¸²"><a href="#æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸå­—ç¬¦ä¸²" class="headerlink" title="æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸå­—ç¬¦ä¸²"></a>æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸå­—ç¬¦ä¸²</h3><p>æ€è·¯ï¼š</p><ol><li>å°†æ—¶é—´æˆ³è½¬æ¢ä¸º<code>struct tm</code>ç±»å‹çš„æ—¶é—´ï¼šä½¿ç”¨<code>localtime_r</code>å‡½æ•°æˆ–è€…<code>localtime</code>å‡½æ•°</li><li>ç„¶åå°†<code>struct tm</code>ç±»å‹çš„æ—¶é—´æŒ‰ç…§ç»™å®šæ ¼å¼åŒ–ä¸²æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼šä½¿ç”¨<code>strftime</code>å‡½æ•°</li></ol><details green><summary> æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸå­—ç¬¦ä¸² </summary>              <div class='content'>              <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convertTimestampToDate</span><span class="params">(<span class="keyword">time_t</span> timestamp, <span class="built_in">string</span> &amp;date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 1. å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºstruct tmç±»å‹:</span></span><br><span class="line">    <span class="comment">// localtimeæ˜¯ä¸å¯é‡å…¥å‡½æ•°ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯localtime_ræ˜¯å¯é‡å…¥å‡½æ•°ï¼Œçº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dateTm</span>;</span></span><br><span class="line">    localtime_r(&amp;timestamp, &amp;dateTm);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d-%d-%d\n&quot;</span>, dateTm.tm_year + <span class="number">1900</span>, dateTm.tm_mon + <span class="number">1</span>,</span><br><span class="line">           dateTm.tm_mday);</span><br><span class="line">    <span class="comment">// 2. å°†struct tmç±»å‹è½¬æ¢ä¸ºè‡ªå®šä¹‰æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">char</span> dateBuf[<span class="number">16</span>];</span><br><span class="line">    strftime(dateBuf, <span class="keyword">sizeof</span>(dateBuf), <span class="string">&quot;%Y-%m-%d&quot;</span>, &amp;dateTm);</span><br><span class="line">    date = dateBuf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²"><a href="#æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²" class="headerlink" title="æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²"></a>æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</h3><p>æ€è·¯ï¼š</p><ol><li>å°†æ—¶é—´æˆ³è½¬æ¢ä¸º<code>struct tm</code>ç±»å‹çš„æ—¶é—´ï¼šä½¿ç”¨<code>localtime_r</code>å‡½æ•°æˆ–è€…<code>localtime</code>å‡½æ•°</li><li>ç„¶åå°†<code>struct tm</code>ç±»å‹çš„æ—¶é—´æŒ‰ç…§ç»™å®šæ ¼å¼åŒ–ä¸²æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼šä½¿ç”¨<code>strftime</code>å‡½æ•°</li></ol><details green><summary> æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸² </summary>              <div class='content'>              <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convertTimestampToDatetime</span><span class="params">(<span class="keyword">time_t</span> timestamp, <span class="built_in">string</span> &amp;date_time)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 1. å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºstruct tmç±»å‹:</span></span><br><span class="line">    <span class="comment">// localtimeæ˜¯ä¸å¯é‡å…¥å‡½æ•°ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯localtime_ræ˜¯å¯é‡å…¥å‡½æ•°ï¼Œçº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dateTimeTm</span>;</span></span><br><span class="line">    localtime_r(&amp;timestamp, &amp;dateTimeTm);</span><br><span class="line">    <span class="comment">// 2. å°†struct tmç±»å‹è½¬æ¢ä¸ºè‡ªå®šä¹‰æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">char</span> dateTimeBuf[<span class="number">32</span>];</span><br><span class="line">    strftime(dateTimeBuf, <span class="keyword">sizeof</span>(dateTimeBuf), <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>,</span><br><span class="line">             &amp;dateTimeTm);</span><br><span class="line">    date_time = dateTimeBuf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><span id="more"></span><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ol><li><a href="https://mp.weixin.qq.com/s/y4Oe0gZ0_rwwW3XcdwJg7w">ã€Cè¯­è¨€ç¬”è®°ã€‘æ—¶é—´æ—¥æœŸå‡½æ•°</a></li><li><a href="https://mp.weixin.qq.com/s/LsQXRqq7SZqI_y45O_0g3Q">ã€ç¬”è®°ã€‘æ•´ç†Cè¯­è¨€çš„æ—¶é—´å‡½æ•°</a></li></ol><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ—¶é—´æˆ³</span></span><br><span class="line"><span class="function"><span class="keyword">time_t</span> <span class="title">convertDateToTimestamp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆåœ¨åé¢æ·»åŠ æ—¶é—´</span></span><br><span class="line">    <span class="keyword">char</span> dateTimeBuf[<span class="number">64</span>];</span><br><span class="line">    <span class="built_in">snprintf</span>(dateTimeBuf, <span class="keyword">sizeof</span>(dateTimeBuf), <span class="string">&quot;%s 00:00:00&quot;</span>, date.c_str());</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dateTM</span>;</span></span><br><span class="line">    strptime(dateTimeBuf, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, &amp;dateTM);</span><br><span class="line">    <span class="keyword">return</span> mktime(&amp;dateTM);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ—¶é—´æˆ³</span></span><br><span class="line"><span class="function"><span class="keyword">time_t</span> <span class="title">convertDatetimeToTimestamp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;date_time)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dtTM</span>;</span></span><br><span class="line">    strptime(date_time.c_str(), <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, &amp;dtTM);</span><br><span class="line">    <span class="keyword">return</span> mktime(&amp;dtTM);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convertTimestampToDate</span><span class="params">(<span class="keyword">time_t</span> timestamp, <span class="built_in">string</span> &amp;date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 1. å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºstruct tmç±»å‹:</span></span><br><span class="line">    <span class="comment">// localtimeæ˜¯ä¸å¯é‡å…¥å‡½æ•°ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯localtime_ræ˜¯å¯é‡å…¥å‡½æ•°ï¼Œçº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dateTm</span>;</span></span><br><span class="line">    localtime_r(&amp;timestamp, &amp;dateTm);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d-%d-%d\n&quot;</span>, dateTm.tm_year + <span class="number">1900</span>, dateTm.tm_mon + <span class="number">1</span>,</span><br><span class="line">           dateTm.tm_mday);</span><br><span class="line">    <span class="comment">// 2. å°†struct tmç±»å‹è½¬æ¢ä¸ºè‡ªå®šä¹‰æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">char</span> dateBuf[<span class="number">16</span>];</span><br><span class="line">    strftime(dateBuf, <span class="keyword">sizeof</span>(dateBuf), <span class="string">&quot;%Y-%m-%d&quot;</span>, &amp;dateTm);</span><br><span class="line">    date = dateBuf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convertTimestampToDatetime</span><span class="params">(<span class="keyword">time_t</span> timestamp, <span class="built_in">string</span> &amp;date_time)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 1. å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºstruct tmç±»å‹:</span></span><br><span class="line">    <span class="comment">// localtimeæ˜¯ä¸å¯é‡å…¥å‡½æ•°ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯localtime_ræ˜¯å¯é‡å…¥å‡½æ•°ï¼Œçº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> <span class="title">dateTimeTm</span>;</span></span><br><span class="line">    localtime_r(&amp;timestamp, &amp;dateTimeTm);</span><br><span class="line">    <span class="comment">// 2. å°†struct tmç±»å‹è½¬æ¢ä¸ºè‡ªå®šä¹‰æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">char</span> dateTimeBuf[<span class="number">32</span>];</span><br><span class="line">    strftime(dateTimeBuf, <span class="keyword">sizeof</span>(dateTimeBuf), <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>,</span><br><span class="line">             &amp;dateTimeTm);</span><br><span class="line">    date_time = dateTimeBuf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, convertDateToTimestamp(<span class="string">&quot;2022-09-23&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, convertDatetimeToTimestamp(<span class="string">&quot;2022-09-23 15:23:59&quot;</span>));</span><br><span class="line">    <span class="built_in">string</span> date;</span><br><span class="line">    <span class="built_in">string</span> date_time;</span><br><span class="line">    convertTimestampToDate(<span class="number">1663917839</span>, date);</span><br><span class="line">    convertTimestampToDatetime(<span class="number">1663917839</span>, date_time);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, date.c_str());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, date_time.c_str());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> æ—¶é—´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>consulé›†ç¾¤æ­å»º</title>
      <link href="/2021/05/17/consul%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"/>
      <url>/2021/05/17/consul%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="consulç¯å¢ƒæ­å»º"><a href="#consulç¯å¢ƒæ­å»º" class="headerlink" title="consulç¯å¢ƒæ­å»º"></a>consulç¯å¢ƒæ­å»º</h2><h3 id="æ–¹æ³•ä¸€ï¼šdockerå®‰è£…consulé›†ç¾¤"><a href="#æ–¹æ³•ä¸€ï¼šdockerå®‰è£…consulé›†ç¾¤" class="headerlink" title="æ–¹æ³•ä¸€ï¼šdockerå®‰è£…consulé›†ç¾¤"></a>æ–¹æ³•ä¸€ï¼šdockerå®‰è£…consulé›†ç¾¤</h3><details green><summary> è‡ªå·±åŠ¨æ‰‹é‡‡ç”¨dockeræ­å»ºä¸€ä¸ªconsulé›†ç¾¤ </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½æœ€æ–°çš„consulé•œåƒ</span></span><br><span class="line">docker pull consul</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªconsulèŠ‚ç‚¹</span></span><br><span class="line">docker run --name consul1 -d -p 8500:8500 -p 8300:8300 -p 8301:8301 -p 8302:8302 -p 8600:8600 consul agent -server -bootstrap-expect 2 -ui -bind=0.0.0.0 -client=0.0.0.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> è·å–æˆ‘ä»¬ç¬¬ä¸€ä¸ªå¯åŠ¨èŠ‚ç‚¹çš„ipåœ°å€ï¼šä¼šè¾“å‡ºä¸€ä¸ªipåœ°å€</span></span><br><span class="line">docker inspect --format &#x27;&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;&#x27; consul1</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨ç¬¬äºŒä¸ªconsulèŠ‚ç‚¹</span></span><br><span class="line">docker run --name consul2 -d -p 8501:8500 consul agent -server -ui -bind=0.0.0.0 -client=0.0.0.0 -join è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ipåœ°å€</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨ç¬¬ä¸‰ä¸ªconsulèŠ‚ç‚¹</span></span><br><span class="line">docker run --name consul3 -d -p 8502:8500 consul agent -server -ui -bind=0.0.0.0 -client=0.0.0.0 -join è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ipåœ°å€</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>ä¹‹åè®¿é—®<code>localhost:8050</code>å°±å¯ä»¥è¿›å…¥åˆ°æˆ‘ä»¬çš„consulå¯è§†åŒ–ç•Œé¢</p>              </div>            </details><h3 id="æ–¹æ³•äºŒï¼šæœ¬æœº-mac-å®‰è£…consulï¼š"><a href="#æ–¹æ³•äºŒï¼šæœ¬æœº-mac-å®‰è£…consulï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼šæœ¬æœº(mac)å®‰è£…consulï¼š"></a>æ–¹æ³•äºŒï¼šæœ¬æœº(mac)å®‰è£…consulï¼š</h3><ol><li>ç›´æ¥è¿›å…¥<a href="https://www.consul.io/downloads">consulå®˜ç½‘</a>ï¼Œä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç„¶åè§£å‹åˆ°<code>$HOME/Library/consul/</code></li><li>åŒæ—¶å°†è·¯å¾„åŠ å…¥åˆ°æˆ‘ä»¬çš„ç³»ç»Ÿç¯å¢ƒå˜é‡<code>~/.bash_profile</code>ä¸­<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> add consul</span></span><br><span class="line">export PATH=$PATH:$GOPATH/bin:$HOME/Library/consul</span><br></pre></td></tr></table></figure></li><li>ç„¶ååˆ·æ–°æˆ‘ä»¬çš„é…ç½®ï¼Œæ­¤æ—¶ä½¿ç”¨consulæ‰§è¡Œå‘½ä»¤<code>consul members</code>æ¥æŸ¥çœ‹æˆ‘ä»¬dockeræ­å»ºçš„consulé›†ç¾¤</li></ol><h3 id="consulç›¸å…³å‘½ä»¤è¡¥å……ï¼š"><a href="#consulç›¸å…³å‘½ä»¤è¡¥å……ï¼š" class="headerlink" title="consulç›¸å…³å‘½ä»¤è¡¥å……ï¼š"></a>consulç›¸å…³å‘½ä»¤è¡¥å……ï¼š</h3><ol><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/vtxNib.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/vtxNib.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="vtxNib"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zT7xfI.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zT7xfI.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="zT7xfI"></li></ol><h3 id="consulå‚è€ƒèµ„æ–™ï¼š"><a href="#consulå‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="consulå‚è€ƒèµ„æ–™ï¼š"></a>consulå‚è€ƒèµ„æ–™ï¼š</h3><ol><li><a href="https://www.liangxiansen.cn/2017/04/06/consul">å‚è€ƒ1</a></li><li><a href="https://blog.csdn.net.yuanyuanispeak/article/details/54880743">å‚è€ƒ2</a></li><li><a href="https://www.jianshu.com/p/0fe826b7017f">dockerå®‰è£…consulé›†ç¾¤</a></li></ol><span id="more"></span><h3 id="äº†è§£æœåŠ¡å‘ç°ï¼š"><a href="#äº†è§£æœåŠ¡å‘ç°ï¼š" class="headerlink" title="äº†è§£æœåŠ¡å‘ç°ï¼š"></a>äº†è§£æœåŠ¡å‘ç°ï¼š</h3><p>åœ¨å¾®æœåŠ¡ç¼–ç ä¸­æˆ‘ä»¬æœåŠ¡ç»å¸¸ä¼šé‡åˆ°å¦‚ä¸‹çš„é—®é¢˜ï¼š</p><ol><li>å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒIPå»æ‰å°†æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼š<code>conn, err := grpc.Dial(&quot;127.0.0.1:10086&quot;, grpc.WithInsecure()</code></li><li>å¦‚æœå…ˆè¿è¡Œå®¢æˆ·ç«¯å†è¿è¡ŒæœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯å°†ä¼šæŠ¥é”™ã€‚</li></ol><p>è¿™äº›é—®é¢˜éƒ½éœ€è¦è§£å†³ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡æœåŠ¡å‘ç°æ¥è§£å†³è¿™äº›é—®é¢˜</p><ol><li>é€šè¿‡æœåŠ¡å‘ç°æ¥ç®¡ç†æœåŠ¡ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/7pI3Um.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/7pI3Um.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="7pI3Um"></li><li>consulçš„ä»£ç å¹¶æ²¡æœ‰å¼€æºï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/hjwDSP.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/hjwDSP.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="hjwDSP"></li><li>æ•…éšœæ£€æµ‹ä½¿å¾—å¦‚æœæœ‰æœåŠ¡æŒ‚æ‰ï¼Œä¹‹åè¯·æ±‚çš„æ—¶å€™å°†ä¼šåœæ­¢è®¿é—®æˆ‘ä»¬çš„æœåŠ¡</li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/25Ol7t.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/25Ol7t.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="25Ol7t"></li><li>æœåŠ¡æ³¨å†Œï¼šå°±æ˜¯æœåŠ¡ä¸»åŠ¨å»consulé‚£é‡Œç™»è®°ï¼ŒæœåŠ¡å‘ç°å°±æ˜¯æŒ‡è¯·æ±‚è¿‡æ¥ä¹‹åå»consulé‚£é‡ŒæŸ¥è¯¢å¯¹åº”çš„æœåŠ¡ï¼Œæ­¤æ—¶å°±æ˜¯æœåŠ¡å‘ç°</li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/m7vwPH.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/m7vwPH.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="m7vwPH"> </li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zlqs9v.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zlqs9v.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="zlqs9v"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/gbYtWf.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/gbYtWf.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="gbYtWf"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/BoFnOg.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/BoFnOg.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="BoFnOg"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Nbh3Ph.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Nbh3Ph.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Nbh3Ph"></li></ol><h3 id="consulæ¦‚å¿µ"><a href="#consulæ¦‚å¿µ" class="headerlink" title="consulæ¦‚å¿µ"></a>consulæ¦‚å¿µ</h3><ol><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/J2kwru.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/J2kwru.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="J2kwru"></li><li>consulå‘½ä»¤å‚æ•°ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/vtxNib.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/vtxNib.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="vtxNib"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zT7xfI.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zT7xfI.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="zT7xfI"></li></ol><h3 id="consulå¸¸ç”¨å‘½ä»¤"><a href="#consulå¸¸ç”¨å‘½ä»¤" class="headerlink" title="consulå¸¸ç”¨å‘½ä»¤"></a>consulå¸¸ç”¨å‘½ä»¤</h3><ol><li>æŸ¥çœ‹é›†ç¾¤æˆå‘˜ï¼š<code>consul members</code> <img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Pvx6iX.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/Pvx6iX.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Pvx6iX">  <img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/GYuxXb.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/GYuxXb.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="GYuxXb"></li><li>æŸ¥çœ‹consulç‰ˆæœ¬ï¼š<code>consul version</code></li><li><code>consul leave</code> ç”¨äºé€€å‡ºé›†ç¾¤</li><li>åœæ­¢Agentï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/NEl3cO.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/NEl3cO.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="NEl3cO"></li></ol><h3 id="è™šæ‹Ÿæœºæ­å»ºconsulé›†ç¾¤æ­å»º"><a href="#è™šæ‹Ÿæœºæ­å»ºconsulé›†ç¾¤æ­å»º" class="headerlink" title="è™šæ‹Ÿæœºæ­å»ºconsulé›†ç¾¤æ­å»º"></a>è™šæ‹Ÿæœºæ­å»ºconsulé›†ç¾¤æ­å»º</h3><blockquote><p>ç¯å¢ƒï¼š3ä¸ªè™šæ‹Ÿæœº</p></blockquote><ol><li>192.168.110.123</li><li>192.168.110.148</li><li>192.168.110.124</li></ol><p>æ­¥éª¤ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/FjtqZl.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/FjtqZl.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="FjtqZl"></p><ol><li>192.168.110.123 ä¸»æœºæ‰§è¡Œå‘½ä»¤ï¼š<code>consul agent -server -bootstrap-expect 2 -data-dir /tmp/consul -node=n1 -bind=192.168.110.123 -ui -config-dir /etc/consul.d -rejoin -join 192.168.110.123 -client 0.0.0.0</code> <img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/VNkw1J.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/VNkw1J.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VNkw1J"></li><li>192.168.110.148 ä¸»æœºæ‰§è¡Œå‘½ä»¤ï¼š<code>consul agent -server -bootstrap-expect 2 -data-dir /tmp/consul -node=n2 -bind=192.168.110.148 -ui -rejoin -join 192.168.110.123</code>  <img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/VnyBD7.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/VnyBD7.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="VnyBD7"> ï¼š <img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/URYZtv.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/URYZtv.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="URYZtv">   è®¿é—®ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/94F8s8.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/94F8s8.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="94F8s8"></li><li>148æœºå™¨è®¿é—®ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/TppyO2.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/TppyO2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="TppyO2"></li><li>192.168.110.124ä¸»æœºæ‰§è¡Œå‘½ä»¤ï¼š <code>consul agent -data-dir /tmp/consul -node=n3 -bind=192.168.110.124 -config-dir /etc/consuld.d -rejoin -join 192.168.110.123</code> + <img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/qFexDB.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/qFexDB.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="qFexDB"></li><li>148æœºå™¨è®¿é—®ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/RbrG6L.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/RbrG6L.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="RbrG6L"></li></ol><h3 id="consul-æœåŠ¡æ³¨å†Œ"><a href="#consul-æœåŠ¡æ³¨å†Œ" class="headerlink" title="consul æœåŠ¡æ³¨å†Œ"></a>consul æœåŠ¡æ³¨å†Œ</h3><ol><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/tp72FN.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/tp72FN.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="tp72FN"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/1fRIrx.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/1fRIrx.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="1fRIrx"></li><li>æµ‹è¯•ç¨‹åºï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/1J8DIk.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/1J8DIk.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="1J8DIk"></li></ol><p>åœ¨microä¸­æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å†™consulçš„é…ç½®æ–‡ä»¶</p><h3 id="consulæ‰©å±•"><a href="#consulæ‰©å±•" class="headerlink" title="consulæ‰©å±•"></a>consulæ‰©å±•</h3><ol><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/xv7foa.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/xv7foa.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="xv7foa"></li><li>consulæ¶æ„å›¾ï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/UwSjSy.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/UwSjSy.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="UwSjSy"> å¦‚æœè¦è·¨åŸŸï¼ˆå›¾ä¸­çš„é»‘è‰²ï¼‰ï¼šé€šè¿‡ç½‘ç»œè¿›è¡Œè¿æ¥ã€‚</li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/9ZWjlz.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/9ZWjlz.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="9ZWjlz"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/JPZ2Ag.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/JPZ2Ag.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="JPZ2Ag"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zU0oLv.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/zU0oLv.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="zU0oLv"></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://www.jianshu.com/p/c6644fa98b8a">ConsulèŠ‚ç‚¹åˆ›å»ºä¸é›†ç¾¤çš„æ­å»ºï¼ˆå«å•æœºå¤šèŠ‚ç‚¹é›†ç¾¤ï¼‰</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å¾®æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®æœåŠ¡ </tag>
            
            <tag> consul </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos7å®‰è£…docker</title>
      <link href="/2021/03/30/centos7%E5%AE%89%E8%A3%85docker/"/>
      <url>/2021/03/30/centos7%E5%AE%89%E8%A3%85docker/</url>
      
        <content type="html"><![CDATA[<div class="note warning"><p>ç³»ç»Ÿè¦æ±‚ï¼šdockeræ”¯æŒ64ä½Centos7ï¼Œå¹¶ä¸”è¦æ±‚å†…æ ¸ç‰ˆæœ¬(æŸ¥çœ‹Linuxç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ï¼š<code>uname -r</code>)ä¸ä½äº3.10</p></div><h2 id="å¸è½½æ—§ç‰ˆæœ¬"><a href="#å¸è½½æ—§ç‰ˆæœ¬" class="headerlink" title="å¸è½½æ—§ç‰ˆæœ¬"></a>å¸è½½æ—§ç‰ˆæœ¬</h2><h2 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h2><details green><summary> å¸è½½æ—§ç‰ˆæœ¬ </summary>              <div class='content'>              <div class="note info"><p>æ—§ç‰ˆæœ¬çš„dockerç§°ä¸ºdockeræˆ–docker-engineï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¸è½½æ—§ç‰ˆæœ¬</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker docker-common docker-selinux docker-engine</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> å®‰è£…æ–¹å¼ä¸€ï¼šä½¿ç”¨yumå®‰è£… </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install docker-ce</span><br></pre></td></tr></table></figure><div class="note info"><p>å¦‚æœæ‰§è¡Œä¹‹åè¿”å›çš„æ˜¯æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ…ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å®‰è£…å¿…è¦çš„è½¯ä»¶ä¾èµ–ä»¥åŠæ›´æ–°å¢åŠ docker-ce yumæº</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>æ‰§è¡Œå®Œè¿™ä¸¤æ¡å‘½ä»¤ä¹‹åæˆ‘ä»¬ä¾¿å¯ä»¥é‡æ–°æ‰§è¡Œ`sudo yum install docker-ce`è¿›è¡Œå®‰è£…              </div>            </details><details green><summary> å®‰è£…æ–¹å¼äºŒï¼šä½¿ç”¨è„šæœ¬å®‰è£… </summary>              <div class='content'>              <div class="note info"><p>åœ¨æµ‹è¯•æˆ–å¼€å‘ç¯å¢ƒä¸­dockerå®˜æ–¹ä¸ºäº†ç®€åŒ–å®‰è£…æµç¨‹ï¼Œæä¾›äº†ä¸€å¥—ä¾¿æ·çš„å®‰è£…è„šæœ¬ï¼Œcentosç³»ç»Ÿä¸Šå¯ä»¥ä½¿ç”¨è¿™å¥—è„šæœ¬è¿›è¡Œå®‰è£…</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com -o get-docker.sh</span><br><span class="line">sudo sh get-docker.sh --mirror Aliyun</span><br></pre></td></tr></table></figure>æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†ä¸€åˆ‡å·¥ä½œå‡†å¤‡å¥½ï¼Œå¹¶æŠŠdocker ceçš„Edgeç‰ˆæœ¬å®‰è£…åœ¨ç³»ç»Ÿä¸­              </div>            </details><span id="more"></span><details green><summary> å¯åŠ¨docker CE </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable docker</span><br><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure><p>å¯åŠ¨dockerä¹‹åå¯ä»¥ä½¿ç”¨<code>docker info</code>æ¥æŸ¥çœ‹dockerçš„ä¿¡æ¯</p>              </div>            </details><details green><summary> å»ºç«‹dockerç”¨æˆ·ç»„ </summary>              <div class='content'>              <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œdockerå‘½ä»¤ä¼šç”¨Unix Socketä¸Dockerå¼•æ“é€šè®¯ï¼Œä½†æ˜¯åªæœ‰rootç”¨æˆ·ä¸dockerç»„çš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—®Dockerå¼•æ“çš„Unix Socketã€‚ä¸€èˆ¬Linuxç³»ç»Ÿä¸Šä¸ä¼šç›´æ¥ä½¿ç”¨rootç”¨æˆ·è¿›è¡Œæ“ä½œï¼Œå› æ­¤éœ€è¦å°†ä½¿ç”¨dockerçš„ç”¨æˆ·åŠ å…¥dockerç”¨æˆ·ç»„ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd docker #å»ºç«‹ docker ç”¨æˆ·sç»„</span><br><span class="line">sudo usermod -aG docker $&#123;USER&#125; #å°†å½“å‰ç”¨æˆ·åŠ å…¥dockerç”¨æˆ·ç»„</span><br></pre></td></tr></table></figure><p>å¯åŠ¨dockerä¹‹åå¯ä»¥ä½¿ç”¨<code>docker info</code>æ¥æŸ¥çœ‹dockerçš„ä¿¡æ¯</p>              </div>            </details><details green><summary> æµ‹è¯•dockeræ˜¯å¦æ­£ç¡®å®‰è£… </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world #å¯åŠ¨ä¸€ä¸ªåŸºäºhello-worldçš„é•œåƒçš„å®¹å™¨</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="é…ç½®dockeré•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®dockeré•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®dockeré•œåƒåŠ é€Ÿå™¨"></a>é…ç½®dockeré•œåƒåŠ é€Ÿå™¨</h2><p>dockeré»˜è®¤ä»docker hubä¸Šæ‹‰å–é•œåƒï¼Œå›½å†…ä¼šç½‘é€Ÿåæ…¢ï¼Œå»ºè®®é…ç½®é•œåƒåŠ é€Ÿå™¨</p><details green><summary> æ­¥éª¤ </summary>              <div class='content'>              <ol><li>åœ¨/etc/docker/daemon.jsonæ–‡ä»¶(å¦‚æœæ²¡æœ‰å°±åˆ›å»º)ä¸­å†™å…¥ï¼šè¿™é‡Œé…ç½®çš„æ˜¯è‡ªå·±çš„é˜¿é‡Œäº‘çš„ï¼Œå»ºè®®é…ç½®é˜¿é‡Œäº‘çš„ï¼ˆ[è·å–é•œåƒåŠ é€Ÿå™¨åœ°å€](<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors%EF%BC%89">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrorsï¼‰</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;*(æ¶‰å¯†çœç•¥)**.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>é‡æ–°å¯åŠ¨æœåŠ¡ç”Ÿæ•ˆ<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure></li><li>æŸ¥çœ‹ä¸€ä¸‹dockeré»˜è®¤ä¸‹è½½é•œåƒçš„åœ°å€ï¼šæ‰§è¡Œ<code>docker info</code> ï¼ŒæŸ¥çœ‹Registry Mirrorsçš„å†…å®¹æ˜¯å¦ä¸ºæˆ‘ä»¬é…ç½®çš„å†…å®¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/pODGrE.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/pODGrE.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="pODGrE"></li></ol>              </div>            </details><h2 id="å¸è½½docker"><a href="#å¸è½½docker" class="headerlink" title="å¸è½½docker"></a>å¸è½½docker</h2><details green><summary> åˆ é™¤dockerå®‰è£…åŒ… </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker-ce</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> åˆ é™¤dockeré•œåƒ </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf /var/lib/docker</span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Centos </tag>
            
            <tag> docker </tag>
            
            <tag> Tools </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸¤ä¸ªå…¨æ’åˆ—çš„é¢˜ç›®</title>
      <link href="/2020/11/28/%E4%B8%A4%E4%B8%AA%E5%85%A8%E6%8E%92%E5%88%97%E7%9A%84%E9%A2%98%E7%9B%AE/"/>
      <url>/2020/11/28/%E4%B8%A4%E4%B8%AA%E5%85%A8%E6%8E%92%E5%88%97%E7%9A%84%E9%A2%98%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€é“é¢˜"><a href="#ç¬¬ä¸€é“é¢˜" class="headerlink" title="ç¬¬ä¸€é“é¢˜"></a>ç¬¬ä¸€é“é¢˜</h2><p><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/ZWdEW0.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/ZWdEW0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ZWdEW0"></p><span id="more"></span><div class="note "><p><strong>æ€è·¯</strong></p><ol><li>æ¯æ¬¡å‡è®¾æˆ‘ä»¬å½“å‰è¦é€‰æ‹©çš„æ˜¯indexä½ç½®çš„å…ƒç´ ï¼Œæœ‰å¾ˆå¤šé€‰æ‹©ï¼Œä»indexå¼€å§‹ä¸€ç›´åˆ°æ•°ç»„ç»“æŸ</li><li>ä½†æ˜¯æˆ‘ä»¬æ¯æ¬¡é€‰æ‹©ä¹‹åå¦‚ä½•å’Œå‰é¢å·²ç»é€‰æ‹©å¥½çš„å…ƒç´ ç»„æˆçš„æ•°ç»„è¿æ¥èµ·æ¥å‘¢ï¼Œæˆ‘ä»¬ä»åé¢é€‰æ‹©è¦æ”¾ç½®åˆ°indexä½ç½®çš„å…ƒç´ ï¼Œä¸æˆ‘ä»¬ç›®å‰çš„indexä½ç½®çš„å…ƒç´ è¿›è¡Œäº’æ¢ï¼Œ</li><li>ä¹‹åè¿›è¡Œä¸‹ä¸€å±‚çš„é€’å½’</li><li>æœ€åé€’å½’å›æ¥ä¹‹åï¼Œæˆ‘ä»¬å†äº¤æ¢å›å»</li></ol></div><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//âœ…</span></span><br><span class="line"><span class="comment">//æ ¸å¿ƒï¼šå¦‚ä½•åšåˆ°æ¯æ¬¡ä»åé¢çš„é€‰æ‹©ï¼Œå¹¶ä¸”ä¸ä¼šé‡å¤å‘¢ï¼Ÿå¦‚æœåé¢é€‰æ‹©æŸä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å°±æŠŠè¯¥å…ƒç´ äº¤æ¢åˆ°æˆ‘ä»¬å·²ç»é€‰æ‹©å®Œçš„ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">//indexè¡¨ç¤ºä¸‹æ¬¡ä»numsä¸­çš„å“ªä¸ªä½ç½®å…ƒç´ å¼€å§‹ï¼Œå› ä¸ºä¹‹å‰çš„éƒ½å·²ç»é€‰å¥½äº†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">backtrack</span><span class="params">(ret *[][]<span class="keyword">int</span>, path []<span class="keyword">int</span>, index <span class="keyword">int</span>, nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(path) == <span class="built_in">len</span>(nums) &#123;</span><br><span class="line"><span class="comment">//å°†å½“å‰è·¯å¾„åŠ å…¥åˆ°ç»“æœä¸­</span></span><br><span class="line">temp := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(path))</span><br><span class="line"><span class="built_in">copy</span>(temp, path)</span><br><span class="line">*ret = <span class="built_in">append</span>(*ret, temp)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼€å§‹è¿›å…¥é€‰æ‹©</span></span><br><span class="line"><span class="keyword">for</span> i := index; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line"><span class="comment">//åˆ©ç”¨äº¤æ¢ï¼Œè®©æˆ‘ä»¬æ¯æ¬¡é€‰æ‹©çš„éƒ½æ”¾ç½®åˆ°ä¸Šæ¬¡é€‰æ‹©çš„åé¢é‚£ä¸ªç›¸é‚»å…ƒç´ </span></span><br><span class="line">nums[i], nums[index] = nums[index], nums[i]</span><br><span class="line"><span class="comment">//ä¸‹æ¬¡æˆ‘ä»¬å°†indexä½ç½®çš„å…ƒç´ åŠ å…¥è·¯å¾„</span></span><br><span class="line">path = <span class="built_in">append</span>(path, nums[index])</span><br><span class="line"><span class="comment">//è¿›å…¥ä¸‹ä¸€å±‚</span></span><br><span class="line">backtrack(ret, path, index+<span class="number">1</span>, nums)</span><br><span class="line"><span class="comment">//ä»è·¯å¾„ä¸­æ’¤é”€</span></span><br><span class="line">path = path[:<span class="built_in">len</span>(path)<span class="number">-1</span>]</span><br><span class="line"><span class="comment">//æ’¤é”€äº¤æ¢</span></span><br><span class="line">nums[i], nums[index] = nums[index], nums[i]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">permute</span><span class="params">(nums []<span class="keyword">int</span>)</span> [][]<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret [][]<span class="keyword">int</span></span><br><span class="line">backtrack(&amp;ret, []<span class="keyword">int</span>&#123;&#125;, <span class="number">0</span>, nums)</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="ç¬¬äºŒé“é¢˜"><a href="#ç¬¬äºŒé“é¢˜" class="headerlink" title="ç¬¬äºŒé“é¢˜"></a>ç¬¬äºŒé“é¢˜</h2><p><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/oBMXGf.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/oBMXGf.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="oBMXGf"></p><div class="note info"><p>note info æ ¸å¿ƒï¼šå¦‚ä½•é¿å…é‡å¤å‡ºç°ã€‚æ€è·¯ï¼šæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªmapæˆ–è€…setæ¥ç»Ÿè®¡indexä½ç½®ï¼Œæˆ‘ä»¬å·²ç»äº¤æ¢è¿‡çš„å…ƒç´ ï¼Œå¦‚æœä¸‹æ¬¡è¦äº¤æ¢çš„å…ƒç´ ä¸æˆ‘ä»¬ä¹‹å‰äº¤æ¢è¿‡çš„å…ƒç´ çš„å…ƒç´ å€¼ç›¸åŒåˆ™è·³è¿‡ï¼Œ<strong>å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨mapæˆ–è€…setæ¥ç»Ÿè®¡ã€‚ä½†æ˜¯è¦æ³¨æ„ä½ç½®ï¼Œæ¯æ¬¡é€’å½’è¿›æ¥çš„æ—¶å€™æˆ‘ä»¬éƒ½è¦é‡æ–°å»ºç«‹é’ˆå¯¹å½“å‰indexä½ç½®çš„ä¸€ä¸ªç»Ÿè®¡å®¹å™¨</strong></p></div><div class="note "><p><strong>æ€è·¯</strong></p><ol><li>æ¯æ¬¡å‡è®¾æˆ‘ä»¬å½“å‰è¦é€‰æ‹©çš„æ˜¯indexä½ç½®çš„å…ƒç´ ï¼Œæœ‰å¾ˆå¤šé€‰æ‹©ï¼Œä»indexå¼€å§‹ä¸€ç›´åˆ°æ•°ç»„ç»“æŸ</li><li>ä½†æ˜¯æˆ‘ä»¬æ¯æ¬¡é€‰æ‹©ä¹‹åå¦‚ä½•å’Œå‰é¢å·²ç»é€‰æ‹©å¥½çš„å…ƒç´ ç»„æˆçš„æ•°ç»„è¿æ¥èµ·æ¥å‘¢ï¼Œå¦‚æœæ”¾ç½®çš„å…ƒç´ ä¸æˆ‘ä»¬ä¹‹å‰æ”¾ç½®è¿‡çš„å…ƒç´ ä¸é‡å¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä»åé¢é€‰æ‹©è¦æ”¾ç½®åˆ°indexä½ç½®çš„å…ƒç´ ï¼Œä¸æˆ‘ä»¬ç›®å‰çš„indexä½ç½®çš„å…ƒç´ è¿›è¡Œäº’æ¢ï¼Œ</li><li>ä¹‹åè¿›è¡Œä¸‹ä¸€å±‚çš„é€’å½’</li><li>æœ€åé€’å½’å›æ¥ä¹‹åï¼Œæˆ‘ä»¬å†äº¤æ¢å›å»</li></ol></div><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">permuteUnique</span><span class="params">(nums []<span class="keyword">int</span>)</span> [][]<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret [][]<span class="keyword">int</span></span><br><span class="line">backtrack(nums, &amp;ret, <span class="number">0</span>, []<span class="keyword">int</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">backtrack</span><span class="params">(nums []<span class="keyword">int</span>, ret *[][]<span class="keyword">int</span>, index <span class="keyword">int</span>, path []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="built_in">len</span>(path) &#123;</span><br><span class="line">temp := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(nums))</span><br><span class="line"><span class="built_in">copy</span>(temp, path)</span><br><span class="line">*ret = <span class="built_in">append</span>(*ret, temp)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">visited := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>)</span><br><span class="line"><span class="keyword">for</span> i := index; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ²¡æœ‰è¢«è®¿é—®è¿‡</span></span><br><span class="line"><span class="keyword">if</span> !visited[nums[i]] &#123;</span><br><span class="line">nums[i], nums[index] = nums[index], nums[i]</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å…¥è·¯å¾„ä»¥åŠvisitedä¸­</span></span><br><span class="line">path = <span class="built_in">append</span>(path, nums[index])</span><br><span class="line">visited[nums[index]] = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›å…¥åˆ°ä¸‹ä¸€å±‚</span></span><br><span class="line">backtrack(nums, ret, index+<span class="number">1</span>, path)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’¤é”€åŠ å…¥è·¯å¾„ä»¥åŠæ’¤é”€åŠ å…¥visitedä¸­</span></span><br><span class="line">path = path[:<span class="built_in">len</span>(path)<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//âŒ</span></span><br><span class="line"><span class="comment">//ä¸‹é¢è¿™ä¸€è¡Œä»£ç æ˜¯ä¸éœ€è¦çš„ï¼Œå› ä¸ºå½“å‰å¯é€‰çš„æ•°å­—å¦‚æœé€‰äº†åŠ å…¥åˆ°visitedä¸‹æ¬¡æˆ‘ä»¬å°±ä¸å¯ä»¥å†é€‰äº†ï¼Œæ‰€ä»¥ä¸å¯ä»¥å†æ’¤é”€äº†</span></span><br><span class="line"><span class="comment">//delete(visited, nums[index])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’¤é”€äº¤æ¢</span></span><br><span class="line">nums[i], nums[index] = nums[index], nums[i]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
      <link href="/2020/11/18/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
      <url>/2020/11/18/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åºåˆ—åŒ–ï¼šäºŒå‰æ ‘è¢«è®°å½•æˆæ–‡ä»¶çš„è¿‡ç¨‹å«åšåºåˆ—åŒ–</p><p>ååºåˆ—åŒ–ï¼šé€šè¿‡æ–‡ä»¶å†…å®¹é‡å»ºåŸæ¥äºŒå‰æ ‘çš„è¿‡ç¨‹å«åšååºåˆ—åŒ–</p><span id="more"></span><h2 id="ç¬¬ä¸€ç§æ–¹å¼ï¼šå…ˆåºéå†"><a href="#ç¬¬ä¸€ç§æ–¹å¼ï¼šå…ˆåºéå†" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼ï¼šå…ˆåºéå†"></a>ç¬¬ä¸€ç§æ–¹å¼ï¼šå…ˆåºéå†</h2><details green><summary> å…ˆåºéå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ– </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€ï¼šä½¿ç”¨å…ˆåºéå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</span></span><br><span class="line"><span class="comment">//è¿›è¡Œåºåˆ—åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderSerialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;#!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">ret += strconv.Itoa(root.Val) + <span class="string">&quot;!&quot;</span></span><br><span class="line">ret += PreorderSerialize(root.Left)</span><br><span class="line">ret += PreorderSerialize(root.Right)</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›è¡Œååºåˆ—åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderDeserialize</span><span class="params">(ret <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">strs := strings.Split(ret, <span class="string">&quot;!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹ï¼šç”±äºåˆ‡ç‰‡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¼šå› ä¸ºå¢åŠ å’Œåˆ é™¤å…ƒç´ è€Œé€ æˆåˆ‡ç‰‡ä¸æ˜¯åŸæ¥é‚£ä¸ªåˆ‡ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬é€’å½’å›å»çš„æ—¶å€™è¿˜æ˜¯æŒ‡å‘åŸæ¥çš„åˆ‡ç‰‡ï¼Œå› æ­¤ä¼šæœ‰é—®é¢˜</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¼ é€’çš„æ˜¯åˆ‡ç‰‡çš„åœ°å€</span></span><br><span class="line"><span class="comment">//å› ä¸ºåˆ‡ç‰‡æ‰©å®¹å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„åº•å±‚æ•°ç»„ï¼Œå¹¶ä¸”ç”±äºåˆ‡ç‰‡ç§»é™¤äº†å…ƒç´ ï¼Œå› æ­¤å¯¹åº”çš„å¤´éƒ¨åœ°å€ä¸€å®šä¼šæ”¹å˜ï¼Œæ‰€ä»¥ä¼šé€ æˆåœ°å€çš„æ”¹å˜</span></span><br><span class="line">root := ReconstructTreeFromPreorder(&amp;strs)</span><br><span class="line"><span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®æˆ‘ä»¬åˆ†å‰²åçš„å­—ç¬¦ä¸²å»ºç«‹äºŒå‰æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReconstructTreeFromPreorder</span><span class="params">(strs *[]<span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> (*strs)[<span class="number">0</span>] == <span class="string">&quot;#&quot;</span> &#123;</span><br><span class="line">(*strs) = (*strs)[<span class="number">1</span>:]</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¦–å…ˆå°†è¯¥å€¼å¯¹åº”çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºint</span></span><br><span class="line">val, _ := strconv.Atoi((*strs)[<span class="number">0</span>])</span><br><span class="line"><span class="comment">//å»ºç«‹ä¸€ä¸ªé’ˆå¯¹äºè¯¥å€¼çš„èŠ‚ç‚¹</span></span><br><span class="line">node := &amp;TreeNode&#123;</span><br><span class="line">Val: val,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»æ‰æˆ‘ä»¬å»ºç«‹è¿‡çš„èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">(*strs) = (*strs)[<span class="number">1</span>:]</span><br><span class="line"><span class="comment">//ä¹‹åè¿›è¡Œé€’å½’å»ºç«‹å·¦å³å­æ ‘</span></span><br><span class="line">node.Left = ReconstructTreeFromPreorder(strs)</span><br><span class="line">node.Right = ReconstructTreeFromPreorder(strs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> node</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="ç¬¬äºŒç§æ–¹å¼ï¼šå±‚æ¬¡éå†"><a href="#ç¬¬äºŒç§æ–¹å¼ï¼šå±‚æ¬¡éå†" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼ï¼šå±‚æ¬¡éå†"></a>ç¬¬äºŒç§æ–¹å¼ï¼šå±‚æ¬¡éå†</h2><h3 id="è‡ªå·±å†™çš„å±‚æ¬¡éå†åºåˆ—åŒ–"><a href="#è‡ªå·±å†™çš„å±‚æ¬¡éå†åºåˆ—åŒ–" class="headerlink" title="è‡ªå·±å†™çš„å±‚æ¬¡éå†åºåˆ—åŒ–"></a>è‡ªå·±å†™çš„å±‚æ¬¡éå†åºåˆ—åŒ–</h3><details green><summary> å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ– </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒï¼šä½¿ç”¨å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LevelOrderSerialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"><span class="comment">//é¦–å…ˆå¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²å³å¯</span></span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;#!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret <span class="keyword">string</span></span><br><span class="line">queue := []*TreeNode&#123;root&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line"><span class="comment">//é¦–å…ˆå¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">node := queue[<span class="number">0</span>]</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœå¼¹å‡ºçš„èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œæˆ‘ä»¬ç›´æ¥å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶åŠ å…¥å…¶ä¸­</span></span><br><span class="line"><span class="keyword">if</span> node != <span class="literal">nil</span> &#123;</span><br><span class="line">ret += strconv.Itoa(node.Val) + <span class="string">&quot;!&quot;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">ret += <span class="string">&quot;#!&quot;</span></span><br><span class="line"><span class="comment">//è¿™é‡Œå› ä¸ºæ˜¯å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œå› æ­¤åŠ å…¥åˆ°#!åˆ°å­—ç¬¦ä¸²ä¹‹åæˆ‘ä»¬éœ€è¦é‡æ–°å¾ªç¯ï¼Œä¸å¯ä»¥æ‰§è¡Œä¸‹é¢çš„ä»£ç </span></span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line">&#125;</span><br><span class="line">queue = <span class="built_in">append</span>(queue, node.Left)</span><br><span class="line">queue = <span class="built_in">append</span>(queue, node.Right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LevelOrderDeserialize</span><span class="params">(str <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">strs := strings.Split(str, <span class="string">&quot;!&quot;</span>)</span><br><span class="line">root := LevelOrderReconstruct(strs)</span><br><span class="line"><span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®å±‚æ¬¡éå†é‡å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LevelOrderReconstruct</span><span class="params">(strs []<span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> head *TreeNode</span><br><span class="line"><span class="comment">//ä¸€è¿›æ¥é¦–å…ˆå»ºç«‹æ ¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> strs[<span class="number">0</span>] == <span class="string">&quot;#&quot;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">val, _ := strconv.Atoi(strs[<span class="number">0</span>])</span><br><span class="line">head = &amp;TreeNode&#123;</span><br><span class="line">Val: val,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºè¡¨ç¤ºæˆ‘ä»¬å½“å‰éå†åˆ°çš„èŠ‚ç‚¹æ˜¯å±‚æ¬¡éå†ç»“æœä¸­çš„ç¬¬å‡ ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">//å› ä¸ºå¤´èŠ‚ç‚¹å·²ç»å»ºç«‹å®Œï¼Œè¯´æ˜ä¸‹æ¬¡æˆ‘ä»¬éœ€è¦ä»strsä¸­çš„indexä¸º1çš„ä½ç½®å¼€å§‹å»ºç«‹èŠ‚ç‚¹</span></span><br><span class="line">index := <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å°†æˆ‘ä»¬åé¢éœ€è¦å»ºç«‹å­æ ‘çš„éç©ºèŠ‚ç‚¹åŠ å…¥è¿›æ¥ï¼Œ</span></span><br><span class="line">queue := []*TreeNode&#123;head&#125;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line"><span class="comment">//è¯´æ˜å½“å‰å¼€å§‹å»ºç«‹curçš„å·¦å³å­æ ‘</span></span><br><span class="line">cur := queue[<span class="number">0</span>]</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»ºç«‹å·¦å­æ ‘</span></span><br><span class="line"><span class="keyword">if</span> strs[index] == <span class="string">&quot;#&quot;</span> &#123;</span><br><span class="line">cur.Left = <span class="literal">nil</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">val, _ := strconv.Atoi(strs[index])</span><br><span class="line">cur.Left = &amp;TreeNode&#123;</span><br><span class="line">Val: val,</span><br><span class="line">&#125;</span><br><span class="line">queue = <span class="built_in">append</span>(queue, cur.Left)</span><br><span class="line">&#125;</span><br><span class="line">index++</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»ºç«‹å³å­æ ‘</span></span><br><span class="line"><span class="keyword">if</span> strs[index] == <span class="string">&quot;#&quot;</span> &#123;</span><br><span class="line">cur.Right = <span class="literal">nil</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">val, _ := strconv.Atoi(strs[index])</span><br><span class="line">cur.Right = &amp;TreeNode&#123;</span><br><span class="line">Val: val,</span><br><span class="line">&#125;</span><br><span class="line">queue = <span class="built_in">append</span>(queue, cur.Right)</span><br><span class="line">&#125;</span><br><span class="line">index++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="å‚è€ƒå·¦ç¥ä»£ç ï¼šå¯¹å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ”¹è¿›"><a href="#å‚è€ƒå·¦ç¥ä»£ç ï¼šå¯¹å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ”¹è¿›" class="headerlink" title="å‚è€ƒå·¦ç¥ä»£ç ï¼šå¯¹å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ”¹è¿›"></a>å‚è€ƒå·¦ç¥ä»£ç ï¼šå¯¹å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ”¹è¿›</h3><blockquote><p>åŠ å…¥äº†ä¸€ä¸ªå‡½æ•°generateNodeFromStringé¿å…ä»£ç è‡ƒè‚¿</p></blockquote><details green><summary> å±‚æ¬¡éå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ– </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹æ–¹æ³•äºŒçš„æ”¹è¿›</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LevelOrderSerialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"><span class="comment">//é¦–å…ˆå¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²å³å¯</span></span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;#!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret <span class="keyword">string</span></span><br><span class="line">queue := []*TreeNode&#123;root&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line"><span class="comment">//é¦–å…ˆå¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">node := queue[<span class="number">0</span>]</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœå¼¹å‡ºçš„èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œæˆ‘ä»¬ç›´æ¥å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶åŠ å…¥å…¶ä¸­</span></span><br><span class="line"><span class="keyword">if</span> node != <span class="literal">nil</span> &#123;</span><br><span class="line">ret += strconv.Itoa(node.Val) + <span class="string">&quot;!&quot;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">ret += <span class="string">&quot;#!&quot;</span></span><br><span class="line"><span class="comment">//è¿™é‡Œå› ä¸ºæ˜¯å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œå› æ­¤åŠ å…¥åˆ°#!åˆ°å­—ç¬¦ä¸²ä¹‹åæˆ‘ä»¬éœ€è¦é‡æ–°å¾ªç¯ï¼Œä¸å¯ä»¥æ‰§è¡Œä¸‹é¢çš„ä»£ç </span></span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line">&#125;</span><br><span class="line">queue = <span class="built_in">append</span>(queue, node.Left)</span><br><span class="line">queue = <span class="built_in">append</span>(queue, node.Right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LevelOrderDeserialize</span><span class="params">(str <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">strs := strings.Split(str, <span class="string">&quot;!&quot;</span>)</span><br><span class="line">root := LevelOrderReconstruct(strs)</span><br><span class="line"><span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®å±‚æ¬¡éå†é‡å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LevelOrderReconstruct</span><span class="params">(strs []<span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line"><span class="comment">//ä¸€è¿›æ¥é¦–å…ˆå»ºç«‹æ ¹èŠ‚ç‚¹</span></span><br><span class="line">head := generateNodeFromString(strs[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡Œè¦æ³¨æ„åˆ¤æ–­ä¸€ä¸‹headæ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹ï¼šåˆ¤æ–­headæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºå°±æ¨å‡ºï¼Œå¦åˆ™åé¢ä¼šæŠ¥é”™çš„</span></span><br><span class="line"><span class="keyword">if</span> head == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºè¡¨ç¤ºæˆ‘ä»¬å½“å‰éå†åˆ°çš„èŠ‚ç‚¹æ˜¯å±‚æ¬¡éå†ç»“æœä¸­çš„ç¬¬å‡ ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">//å› ä¸ºå¤´èŠ‚ç‚¹å·²ç»å»ºç«‹å®Œï¼Œè¯´æ˜ä¸‹æ¬¡æˆ‘ä»¬éœ€è¦ä»strsä¸­çš„indexä¸º1çš„ä½ç½®å¼€å§‹å»ºç«‹èŠ‚ç‚¹</span></span><br><span class="line">index := <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å°†æˆ‘ä»¬åé¢éœ€è¦å»ºç«‹å­æ ‘çš„éç©ºèŠ‚ç‚¹åŠ å…¥è¿›æ¥ï¼Œ</span></span><br><span class="line">queue := []*TreeNode&#123;head&#125;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line"><span class="comment">//è¯´æ˜å½“å‰å¼€å§‹å»ºç«‹curçš„å·¦å³å­æ ‘</span></span><br><span class="line">cur := queue[<span class="number">0</span>]</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»ºç«‹å·¦å­æ ‘</span></span><br><span class="line">cur.Left = generateNodeFromString(strs[index])</span><br><span class="line">index++</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»ºç«‹å³å­æ ‘</span></span><br><span class="line">cur.Right = generateNodeFromString(strs[index])</span><br><span class="line">index++</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœå·¦å­æ ‘ä¸ä¸ºç©ºï¼ŒåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line"><span class="keyword">if</span> cur.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">queue = <span class="built_in">append</span>(queue, cur.Left)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœå³å­æ ‘ä¸ä¸ºç©ºï¼ŒåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line"><span class="keyword">if</span> cur.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">queue = <span class="built_in">append</span>(queue, cur.Right)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generateNodeFromString</span><span class="params">(val <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> val == <span class="string">&quot;#&quot;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">temp, _ := strconv.Atoi(val)</span><br><span class="line"><span class="keyword">return</span> &amp;TreeNode&#123;</span><br><span class="line">Val: temp,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h2><p><a href="www.sivan.tech/2020/11/18/golang%E4%B8%AD%E5%88%B7%E9%A2%98%E5%85%B3%E4%BA%8E%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/">é€’å½’å‡½æ•°ä¼ å…¥åˆ‡ç‰‡ä½œä¸ºå‚æ•°é€ æˆåˆ‡ç‰‡ä¿®æ”¹åé€’å½’å›æ¥åˆè¿˜åŸ</a></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> é¢è¯• </category>
          
          <category> äºŒå‰æ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> äºŒå‰æ ‘ </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Golangä¸­åˆ·é¢˜å…³äºåˆ‡ç‰‡çš„ä¸€äº›å‘</title>
      <link href="/2020/11/18/golang%E4%B8%AD%E5%88%B7%E9%A2%98%E5%85%B3%E4%BA%8E%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/"/>
      <url>/2020/11/18/golang%E4%B8%AD%E5%88%B7%E9%A2%98%E5%85%B3%E4%BA%8E%E5%88%87%E7%89%87%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜1"><a href="#é—®é¢˜1" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h2><p>é—®é¢˜æè¿°ï¼šé€’å½’çš„è¿‡ç¨‹ä¸­ï¼Œä¼ é€’äº†ä¸€ä¸ªåˆ‡ç‰‡ä½œä¸ºå‚æ•°ï¼Œæ¯æ¬¡æˆ‘ä»¬éƒ½éœ€è¦å¯¹åˆ‡ç‰‡åˆ‡å–é¦–å…ƒç´ ï¼Œä¹‹åé€’å½’å›æ¥çš„æ—¶å€™å‘ç°åˆ‡ç‰‡ä¸­çš„å…ƒç´ è¿˜æ˜¯æ²¡æœ‰åˆ‡å–é¦–å…ƒç´ ï¼Œ<strong>æ˜¯ä¸€ä¸ªå¾ˆä¸¥é‡çš„é€»è¾‘é”™è¯¯</strong>ã€‚</p><p><strong>é—®é¢˜è§£å†³ï¼šæˆ‘ä»¬é€’å½’å‡½æ•°ä½¿ç”¨åˆ‡ç‰‡ä½œä¸ºå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥ä¼ å…¥åˆ‡ç‰‡çš„åœ°å€ã€‚å› ä¸ºåˆ‡ç‰‡æ¯æ¬¡åˆ é™¤å…ƒç´ ï¼Œåœ°å€ä¹Ÿä¼šæ”¹å˜ã€‚å½“åˆ‡ç‰‡å¢åŠ å…ƒç´ å¼•èµ·æ‰©å®¹ï¼Œåœ°å€ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œè€Œå¦‚æœåªä¼ å…¥åˆ‡ç‰‡æˆ‘ä»¬åªæ˜¯å¼•ç”¨æœ€å¼€å§‹çš„æ—¶å€™çš„åˆ‡ç‰‡çš„åœ°å€ï¼Œå› æ­¤ä¼šå‘ç°åˆ‡ç‰‡æ²¡æœ‰ä»»ä½•æ”¹å˜ã€‚</strong></p><p>ä¾‹å¦‚æˆ‘ä»¬è‡ªå·±å†™çš„äºŒå‰æ ‘åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä»£ç ï¼šåœ¨æœ€å¼€å§‹åªæ˜¯ä¼ é€’ä¸€ä¸ªåˆ‡ç‰‡ï¼Œä½†æ˜¯åæ¥ä¼ é€’åˆ‡ç‰‡çš„åœ°å€è¿›å»å‘ç°ä»£ç é€»è¾‘æ­£å¸¸è¿è¡Œã€‚</p><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€ï¼šä½¿ç”¨å…ˆåºéå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</span></span><br><span class="line"><span class="comment">//è¿›è¡Œåºåˆ—åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderSerialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;#!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">ret += strconv.Itoa(root.Val) + <span class="string">&quot;!&quot;</span></span><br><span class="line">ret += PreorderSerialize(root.Left)</span><br><span class="line">ret += PreorderSerialize(root.Right)</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›è¡Œååºåˆ—åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderDeserialize</span><span class="params">(ret <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">strs := strings.Split(ret, <span class="string">&quot;!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹ï¼šç”±äºåˆ‡ç‰‡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¼šå› ä¸ºå¢åŠ å’Œåˆ é™¤å…ƒç´ è€Œé€ æˆåˆ‡ç‰‡ä¸æ˜¯åŸæ¥é‚£ä¸ªåˆ‡ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬é€’å½’å›å»çš„æ—¶å€™è¿˜æ˜¯æŒ‡å‘åŸæ¥çš„åˆ‡ç‰‡ï¼Œå› æ­¤ä¼šæœ‰é—®é¢˜</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¼ é€’çš„æ˜¯åˆ‡ç‰‡çš„åœ°å€</span></span><br><span class="line"><span class="comment">//å› ä¸ºåˆ‡ç‰‡æ‰©å®¹å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„åº•å±‚æ•°ç»„ï¼Œå¹¶ä¸”ç”±äºåˆ‡ç‰‡ç§»é™¤äº†å…ƒç´ ï¼Œå› æ­¤å¯¹åº”çš„å¤´éƒ¨åœ°å€ä¸€å®šä¼šæ”¹å˜ï¼Œæ‰€ä»¥ä¼šé€ æˆåœ°å€çš„æ”¹å˜</span></span><br><span class="line">root := ReconstructTreeFromPreorder(&amp;strs)</span><br><span class="line"><span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®æˆ‘ä»¬åˆ†å‰²åçš„å­—ç¬¦ä¸²å»ºç«‹äºŒå‰æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReconstructTreeFromPreorder</span><span class="params">(strs *[]<span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> (*strs)[<span class="number">0</span>] == <span class="string">&quot;#&quot;</span> &#123;</span><br><span class="line">(*strs) = (*strs)[<span class="number">1</span>:]</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¦–å…ˆå°†è¯¥å€¼å¯¹åº”çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºint</span></span><br><span class="line">val, _ := strconv.Atoi((*strs)[<span class="number">0</span>])</span><br><span class="line"><span class="comment">//å»ºç«‹ä¸€ä¸ªé’ˆå¯¹äºè¯¥å€¼çš„èŠ‚ç‚¹</span></span><br><span class="line">node := &amp;TreeNode&#123;</span><br><span class="line">Val: val,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»æ‰æˆ‘ä»¬å»ºç«‹è¿‡çš„èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">(*strs) = (*strs)[<span class="number">1</span>:]</span><br><span class="line"><span class="comment">//ä¹‹åè¿›è¡Œé€’å½’å»ºç«‹å·¦å³å­æ ‘</span></span><br><span class="line">node.Left = ReconstructTreeFromPreorder(strs)</span><br><span class="line">node.Right = ReconstructTreeFromPreorder(strs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> node</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ·é¢˜ </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘çš„ä¸‰ç§éå†æ–¹å¼</title>
      <link href="/2020/11/17/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%89%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F/"/>
      <url>/2020/11/17/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%89%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºäºé€’å½’çš„éå†"><a href="#åŸºäºé€’å½’çš„éå†" class="headerlink" title="åŸºäºé€’å½’çš„éå†"></a>åŸºäºé€’å½’çš„éå†</h2><span id="more"></span><h3 id="å…ˆåºéå†"><a href="#å…ˆåºéå†" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h3><details green><summary> å…ˆåºéå†æ–¹å¼1 </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//âœ…ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderTraverse</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, root.Val)</span><br><span class="line"><span class="keyword">if</span> root.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">ret = <span class="built_in">append</span>(ret, PreorderTraverse(root.Left)...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> root.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">ret = <span class="built_in">append</span>(ret, PreorderTraverse(root.Right)...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> å…ˆåºéå†æ–¹å¼2 </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderTraverseII</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, root.Val)</span><br><span class="line">ret = <span class="built_in">append</span>(ret, PreorderTraverse(root.Left)...)</span><br><span class="line">ret = <span class="built_in">append</span>(ret, PreorderTraverse(root.Right)...)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> å…ˆåºéå†é”™è¯¯æ–¹å¼ </summary>              <div class='content'>              <p><del>é”™è¯¯æ–¹å¼</del></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderTraverseIII</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, root.Val, PreorderTraverseIII(root.Left)..., PreorderTraverseIII(root.Right)...)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><details green><summary> ä¸­åºéå† </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InorderTraverse</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, InorderTraverse(root.Left)...)</span><br><span class="line">ret = <span class="built_in">append</span>(ret, root.Val)</span><br><span class="line">ret = <span class="built_in">append</span>(ret, InorderTraverse(root.Right)...)</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><details green><summary> ååºéå† </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PostorderTraverse</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, PostorderTraverse(root.Left)...)</span><br><span class="line">ret = <span class="built_in">append</span>(ret, PostorderTraverse(root.Right)...)</span><br><span class="line">ret = <span class="built_in">append</span>(ret, root.Val)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="åŸºäºéé€’å½’çš„éå†"><a href="#åŸºäºéé€’å½’çš„éå†" class="headerlink" title="åŸºäºéé€’å½’çš„éå†"></a>åŸºäºéé€’å½’çš„éå†</h2><h3 id="å…ˆåºéå†-1"><a href="#å…ˆåºéå†-1" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h3><ol><li>ç”³è¯·ä¸€ä¸ªæ–°çš„æ ˆï¼Œè®°ä¸ºstackï¼Œç„¶åå°†å¤´ç»“ç‚¹å‹å…¥åˆ°stackä¸­</li><li>ä»stackä¸­å¼¹å‡ºæ ˆé¡¶ç»“ç‚¹ï¼Œè®°ä¸ºcurï¼Œç„¶åæ‰“å°curç»“ç‚¹çš„å€¼ï¼Œå†å°†curç»“ç‚¹çš„å³å­©å­ï¼ˆä¸ä¸ºç©ºï¼‰å‹å…¥åˆ°æ ˆä¸­ï¼Œæœ€åå°†å·¦å­©å­ï¼ˆä¸ä¸ºç©ºï¼‰å‹å…¥åˆ°stackä¸­</li><li>ä¸æ–­é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°stackä¸ºç©ºï¼Œå…¨éƒ¨è¿‡ç¨‹ç»“æŸ</li></ol><details green><summary> éé€’å½’å®ç°äºŒå‰æ ‘çš„å…ˆåºéå† </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//âœ…</span></span><br><span class="line"><span class="comment">//æ€è·¯ï¼šä½¿ç”¨æ ˆæ¥æ±‚è§£ï¼Œåˆå§‹åŒ–çš„æ—¶å€™è‹¥æ ¹ä¸ä¸ºç©ºï¼Œåˆ™å°†æ ¹åŠ å…¥åˆ°æ ˆä¸­ï¼Œ</span></span><br><span class="line"><span class="comment">//ä¹‹åï¼Œæ¯æ¬¡éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°†å€¼åŠ å…¥åˆ°ç»“æœä¸­å¹¶å¼¹å‡ºï¼Œç„¶åå°†å³å­æ ‘åŠ å…¥åˆ°æ ˆä¸­ï¼Œä¹‹åå°†å·¦å­æ ‘åŠ å…¥åˆ°æ ˆä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreorderTraverseNoRecursion</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">stack := []*TreeNode&#123;root&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(stack) != <span class="number">0</span> &#123;</span><br><span class="line"><span class="comment">//é¦–å…ˆä»æ ˆä¸­å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">node := stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ å…¥åˆ°æˆ‘ä»¬è¦è¿”å›çš„ç»“æœä¸­</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, node.Val)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹åŠ å…¥åˆ°æ ˆä¸­</span></span><br><span class="line"><span class="keyword">if</span> node.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">stack = <span class="built_in">append</span>(stack, node.Right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹åŠ å…¥åˆ°æ ˆä¸­</span></span><br><span class="line"><span class="keyword">if</span> node.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">stack = <span class="built_in">append</span>(stack, node.Left)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="ä¸­åºéå†-1"><a href="#ä¸­åºéå†-1" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h4><ol><li>ç”³è¯·ä¸€ä¸ªæ–°æ ˆï¼Œè®°ä¸ºstackã€‚åˆå§‹æ—¶ï¼Œä»¤å˜é‡cur = head</li><li>å…ˆæŠŠcurèŠ‚ç‚¹å‹å…¥æ ˆä¸­ï¼Œå¯¹ä»¥curèŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹çš„æ•´é¢—å­æ ‘æ¥è¯´ï¼Œä¾æ¬¡æŠŠå·¦è¾¹ç•Œå‹å…¥åˆ°æ ˆä¸­ï¼Œå³ä¸åœåœ°ä»¤cur = cur.Leftï¼Œç„¶åé‡å¤æ­¥éª¤3</li><li>ä¸æ–­é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°å‘ç°curä¸ºç©ºï¼Œæ­¤æ—¶ä»stackä¸­å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®°ä¸ºnodeï¼Œæ‰“å°nodeçš„å€¼ï¼Œå¹¶ä¸”è®©cur = node.rightï¼Œç„¶åç»§ç»­é‡å¤æ­¥éª¤2ã€‚</li><li>å½“stackä¸ºç©ºä¸”curä¸ºç©ºï¼Œæ•´ä¸ªè¿‡ç¨‹åœæ­¢ã€‚</li></ol><details green><summary> éé€’å½’å®ç°äºŒå‰æ ‘çš„ä¸­åºéå† </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InorderTraverseNoRecursion</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">//å¦‚æœä¸ºç©ºï¼Œç›´æ¥è¿”å›</span></span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> stack []*TreeNode</span><br><span class="line">cur := root</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> cur != <span class="literal">nil</span> || <span class="built_in">len</span>(stack) != <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">if</span> cur != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">//è¯´æ˜å½“å‰èŠ‚ç‚¹æ˜¯ç¬¬ä¸€æ¬¡éå†ï¼Œç›´æ¥åŠ å…¥åˆ°æ ˆä¸­</span></span><br><span class="line">stack = <span class="built_in">append</span>(stack, cur)</span><br><span class="line"><span class="comment">//ä¹‹åç§»åŠ¨åˆ°è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘èŠ‚ç‚¹</span></span><br><span class="line">cur = cur.Left</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//é¦–å…ˆä»æ ˆä¸­å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">cur = stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line"><span class="comment">//å°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ å…¥åˆ°ç»“æœä¸­</span></span><br><span class="line">ret = <span class="built_in">append</span>(ret, cur.Val)</span><br><span class="line"><span class="comment">//ä¹‹åç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹</span></span><br><span class="line">cur = cur.Right</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="ååºéå†-1"><a href="#ååºéå†-1" class="headerlink" title="ååºéå†"></a>ååºéå†</h4><h5 id="ç¬¬ä¸€ç§æ–¹å¼ï¼š"><a href="#ç¬¬ä¸€ç§æ–¹å¼ï¼š" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼ï¼š"></a>ç¬¬ä¸€ç§æ–¹å¼ï¼š</h5><p><strong>å…ˆä»‹ç»ç”¨ä¸¤ä¸ªæ ˆå®ç°ååºéå†çš„è¿‡ç¨‹ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</strong></p><p>1ï¼ç”³è¯·ä¸€ä¸ªæ ˆï¼Œè®°ä¸ºs1ï¼Œç„¶åå°†å¤´èŠ‚ç‚¹headå‹å…¥s1ä¸­ã€‚</p><p>2ï¼ä»s1ä¸­å¼¹å‡ºçš„èŠ‚ç‚¹è®°ä¸ºcurï¼Œç„¶åä¾æ¬¡å°†curçš„å·¦å­©å­å’Œå³å­©å­å‹å…¥s1ä¸­ã€‚</p><p>3ï¼åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªä»s1ä¸­å¼¹å‡ºçš„èŠ‚ç‚¹éƒ½æ”¾è¿›s2ä¸­ã€‚</p><p>4ï¼ä¸æ–­é‡å¤æ­¥éª¤2å’Œæ­¥éª¤3ï¼Œç›´åˆ°s1ä¸ºç©ºï¼Œè¿‡ç¨‹åœæ­¢ã€‚</p><p>5ï¼ä»s2ä¸­ä¾æ¬¡å¼¹å‡ºèŠ‚ç‚¹å¹¶æ‰“å°ï¼Œæ‰“å°çš„é¡ºåºå°±æ˜¯ååºéå†çš„é¡ºåºã€‚â€</p><p>é€šè¿‡å¦‚ä¸Šè¿‡ç¨‹æˆ‘ä»¬çŸ¥é“ï¼Œæ¯æ£µå­æ ‘çš„å¤´èŠ‚ç‚¹éƒ½æœ€å…ˆä»s1ä¸­å¼¹å‡ºï¼Œç„¶åæŠŠè¯¥èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹æŒ‰ç…§å…ˆå·¦å†å³çš„é¡ºåºå‹å…¥s1ï¼Œé‚£ä¹ˆä»s1å¼¹å‡ºçš„é¡ºåºå°±æ˜¯å…ˆå³å†å·¦ï¼Œæ‰€ä»¥ä»s1ä¸­å¼¹å‡ºçš„é¡ºåºå°±æ˜¯ä¸­ã€å³ã€å·¦ã€‚ç„¶åï¼Œs2é‡æ–°æ”¶é›†çš„è¿‡ç¨‹å°±æ˜¯æŠŠs1çš„å¼¹å‡ºé¡ºåºé€†åºï¼Œæ‰€ä»¥s2ä»æ ˆé¡¶åˆ°æ ˆåº•çš„é¡ºåºå°±å˜æˆäº†å·¦ã€å³ã€ä¸­ã€‚</p><details green><summary> éé€’å½’å®ç°äºŒå‰æ ‘çš„ååºéå†æ–¹å¼1 </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//âœ…</span></span><br><span class="line"><span class="comment">//æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°äºŒå‰æ ‘çš„éé€’å½’ååºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PostorderTraverseNoRecursion</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> stack2 []*TreeNode</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¦–å…ˆæˆ‘ä»¬å°†rootåŠ å…¥åˆ°stack1ä¸­</span></span><br><span class="line">stack1 := []*TreeNode&#123;root&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœstack1ä¸ä¸ºç©º</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(stack1) != <span class="number">0</span> &#123;</span><br><span class="line">cur := stack1[<span class="built_in">len</span>(stack1)<span class="number">-1</span>]</span><br><span class="line"><span class="comment">//å°†å½“å‰èŠ‚ç‚¹ä»æ ˆ1ç§»é™¤å¹¶ä¸”å°†å½“å‰èŠ‚ç‚¹åŠ å…¥åˆ°æ ˆ2</span></span><br><span class="line">stack1 = stack1[:<span class="built_in">len</span>(stack1)<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†å½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹åˆ†åˆ«åŠ å…¥åˆ°æ ˆ1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹1ï¼šè¿™é‡Œæœ‰å¯èƒ½å·¦å³å­èŠ‚ç‚¹æœ‰å¯èƒ½ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> cur.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">stack1 = <span class="built_in">append</span>(stack1, cur.Left)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> cur.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">stack1 = <span class="built_in">append</span>(stack1, cur.Right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹‹åå°†å½“å‰èŠ‚ç‚¹åŠ å…¥åˆ°æ ˆ2ä¸­</span></span><br><span class="line">stack2 = <span class="built_in">append</span>(stack2, cur)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€åæˆ‘ä»¬ä»stack2å¼¹å‡ºçš„é¡ºåºå°±æ˜¯æˆ‘ä»¬ååºéå†å¾—åˆ°çš„ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(stack2) != <span class="number">0</span> &#123;</span><br><span class="line">node := stack2[<span class="built_in">len</span>(stack2)<span class="number">-1</span>]</span><br><span class="line">stack2 = stack2[:<span class="built_in">len</span>(stack2)<span class="number">-1</span>]</span><br><span class="line">ret = <span class="built_in">append</span>(ret, node.Val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h5 id="ç¬¬äºŒç§æ–¹å¼ï¼š"><a href="#ç¬¬äºŒç§æ–¹å¼ï¼š" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼ï¼š"></a><strong>ç¬¬äºŒç§æ–¹å¼ï¼š</strong></h5><p><strong>æœ€åä»‹ç»åªç”¨ä¸€ä¸ªæ ˆå®ç°ååºéå†çš„è¿‡ç¨‹ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</strong></p><p>1ï¼ç”³è¯·ä¸€ä¸ªæ ˆï¼Œè®°ä¸ºstackï¼Œå°†å¤´èŠ‚ç‚¹å‹å…¥stackï¼ŒåŒæ—¶è®¾ç½®ä¸¤ä¸ªå˜é‡hå’Œcã€‚åœ¨æ•´ä¸ªæµç¨‹ä¸­ï¼Œhä»£è¡¨æœ€è¿‘ä¸€æ¬¡å¼¹å‡ºå¹¶æ‰“å°çš„èŠ‚ç‚¹ï¼Œcä»£è¡¨â€</p><p>æ‘˜å½•æ¥è‡ª: å·¦ç¨‹äº‘. â€œç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—:ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ã€‚â€ Apple Books. </p><p>â€œstackçš„æ ˆé¡¶èŠ‚ç‚¹ï¼Œåˆå§‹æ—¶hä¸ºå¤´èŠ‚ç‚¹ï¼Œcä¸ºnullã€‚</p><p>2ï¼æ¯æ¬¡ä»¤cç­‰äºå½“å‰stackçš„æ ˆé¡¶èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸ä»stackä¸­å¼¹å‡ºï¼Œæ­¤æ—¶åˆ†ä»¥ä¸‹ä¸‰ç§æƒ…å†µã€‚</p><p>â‘ ï¼šå¦‚æœcçš„å·¦å­©å­ä¸ä¸ºnullï¼Œå¹¶ä¸”hä¸ç­‰äºcçš„å·¦å­©å­ï¼Œä¹Ÿä¸ç­‰äºcçš„å³å­©å­ï¼Œåˆ™æŠŠcçš„å·¦å­©å­å‹å…¥stackä¸­ã€‚å…·ä½“è§£é‡Šä¸€ä¸‹è¿™ä¹ˆåšçš„åŸå› ï¼Œé¦–å…ˆhçš„æ„ä¹‰æ˜¯æœ€è¿‘ä¸€æ¬¡å¼¹å‡ºå¹¶æ‰“å°çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥å¦‚æœhç­‰äºcçš„å·¦å­©å­æˆ–è€…å³å­©å­ï¼Œè¯´æ˜cçš„å·¦å­æ ‘ä¸å³å­æ ‘å·²ç»æ‰“å°å®Œæ¯•ï¼Œæ­¤æ—¶ä¸åº”è¯¥å†å°†cçš„å·¦å­©å­æ”¾å…¥stackä¸­ã€‚å¦åˆ™ï¼Œè¯´æ˜å·¦å­æ ‘è¿˜æ²¡å¤„ç†è¿‡ï¼Œé‚£ä¹ˆæ­¤æ—¶å°†cçš„å·¦å­©å­å‹å…¥stackä¸­ã€‚</p><p>â‘¡ï¼šå¦‚æœæ¡ä»¶â‘ ä¸æˆç«‹ï¼Œå¹¶ä¸”cçš„å³å­©å­ä¸ä¸ºnullï¼Œhä¸ç­‰äºcçš„å³å­©å­ï¼Œåˆ™æŠŠcçš„å³å­©å­å‹å…¥stackä¸­ã€‚å«ä¹‰æ˜¯å¦‚æœhç­‰äºcçš„å³å­©å­ï¼Œè¯´æ˜cçš„å³å­æ ‘å·²ç»æ‰“å°å®Œæ¯•ï¼Œæ­¤æ—¶ä¸åº”è¯¥å†å°†cçš„å³å­©å­æ”¾å…¥stackä¸­ã€‚å¦åˆ™ï¼Œè¯´æ˜å³å­æ ‘è¿˜æ²¡å¤„ç†è¿‡ï¼Œæ­¤æ—¶å°†cçš„å³å­©å­å‹å…¥stackä¸­ã€‚</p><p>â‘¢ï¼šå¦‚æœæ¡ä»¶â‘ å’Œæ¡ä»¶â‘¡éƒ½ä¸æˆç«‹ï¼Œè¯´æ˜cçš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½å·²ç»æ‰“å°å®Œæ¯•ï¼Œé‚£ä¹ˆä»stackä¸­å¼¹å‡ºcå¹¶æ‰“å°ï¼Œç„¶åä»¤h=cã€‚</p><p>3ï¼ä¸€ç›´é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°stackä¸ºç©ºï¼Œè¿‡ç¨‹åœæ­¢ã€‚â€</p><details green><summary> éé€’å½’å®ç°äºŒå‰æ ‘çš„ååºéå†æ–¹å¼2ï¼š </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•äºŒï¼šåªä½¿ç”¨ä¸€ä¸ªæ ˆå®ç°äºŒå‰æ ‘çš„éé€’å½’ååºéå†</span></span><br><span class="line"><span class="comment">//âœ…</span></span><br><span class="line"><span class="comment">//æ€è·¯ï¼šä½¿ç”¨ä¸€ä¸ªæ ˆå’Œä¸¤ä¸ªå˜é‡ï¼Œhä»£è¡¨ä¸Šæ¬¡è®¿é—®å¹¶åˆ é™¤çš„èŠ‚ç‚¹ï¼Œcä»£è¡¨å½“å‰èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PostorderTraverseNoRecursionII</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">stack := []*TreeNode&#123;root&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–çš„æ—¶å€™hç½®ä¸ºrootï¼Œå°†cç½®ä¸ºnil</span></span><br><span class="line">h := root</span><br><span class="line"><span class="keyword">var</span> c *TreeNode</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ ˆä¸ä¸ºç©º</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(stack) != <span class="number">0</span> &#123;</span><br><span class="line">c = stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line"><span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å·¦å³å­æ ‘éƒ½ä¸ç­‰äºhï¼Œè¯´æ˜å·¦å­æ ‘æ²¡æœ‰éå†è¿‡ï¼Œå°†å·¦èŠ‚ç‚¹åŠ å…¥æ ˆä¸­</span></span><br><span class="line"><span class="keyword">if</span> c.Left != <span class="literal">nil</span> &amp;&amp; h != c.Left &amp;&amp; h != c.Right &#123;<span class="comment">//ä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡éå†è¯¥èŠ‚ç‚¹çš„æ—¶å€™</span></span><br><span class="line">stack = <span class="built_in">append</span>(stack, c.Left)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> c.Right != <span class="literal">nil</span> &amp;&amp; c.Right != h &#123; <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œä¸”ä¸ç­‰äºhï¼Œè¯´æ˜æ²¡æœ‰éå†è¿‡ï¼Œåˆ™å°†å³èŠ‚ç‚¹åŠ å…¥åˆ°æ ˆä¸­ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒæ¬¡éå†è¯¥èŠ‚ç‚¹çš„æ—¶å€™</span></span><br><span class="line">stack = <span class="built_in">append</span>(stack, c.Right)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">//å¦åˆ™ï¼Œå¼¹å‡ºèŠ‚ç‚¹ï¼Œå¹¶åŠ å…¥åˆ°ç»“æœä¸­ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸‰æ¬¡éå†è¯¥èŠ‚ç‚¹çš„æ—¶å€™</span></span><br><span class="line">node := stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">ret = <span class="built_in">append</span>(ret, node.Val)</span><br><span class="line"><span class="comment">//å¹¶ä¸”å°†ä¸Šä¸€æ¬¡è®¿é—®å¹¶ä¸”æ‰“å°è¿‡çš„èŠ‚ç‚¹é‡ç½®ä¸ºnode</span></span><br><span class="line">h = node</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h5 id="ã€æ¨èã€‘ç¬¬ä¸‰ç§æ–¹å¼ï¼š"><a href="#ã€æ¨èã€‘ç¬¬ä¸‰ç§æ–¹å¼ï¼š" class="headerlink" title="ã€æ¨èã€‘ç¬¬ä¸‰ç§æ–¹å¼ï¼š"></a>ã€æ¨èã€‘ç¬¬ä¸‰ç§æ–¹å¼ï¼š</h5><blockquote><p>ååºéå†æ˜¯æŒ‰ç…§å·¦-&gt;å³-&gt;æ ¹çš„é¡ºåºéå†ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§æ ¹-&gt;å³-&gt;å·¦çš„é¡ºåºéå†ï¼Œç„¶åå°†æˆ‘ä»¬çš„ç»“æœåè½¬å³å¯ã€‚</p></blockquote><details green><summary> éé€’å½’å®ç°äºŒå‰æ ‘çš„ååºéå†æ–¹å¼3ï¼š </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PostOrderTraverseNoRecursion</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ret []<span class="keyword">int</span></span><br><span class="line">stack := []*TreeNode&#123;root&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰ç…§æ ¹å³å·¦çš„é¡ºåºéå†ä¹‹ååè½¬æˆ‘ä»¬çš„ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(stack) != <span class="number">0</span> &#123;</span><br><span class="line">cur := stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">ret = <span class="built_in">append</span>(ret, cur.Val)</span><br><span class="line"><span class="keyword">if</span> cur.Left != <span class="literal">nil</span> &#123; <span class="comment">//åŠ å…¥å·¦</span></span><br><span class="line">stack = <span class="built_in">append</span>(stack, cur.Left)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> cur.Right != <span class="literal">nil</span> &#123; <span class="comment">//åŠ å…¥å³</span></span><br><span class="line">stack = <span class="built_in">append</span>(stack, cur.Right)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè½¬æˆ‘ä»¬çš„ret</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(ret)&gt;&gt;<span class="number">1</span>; i++ &#123;</span><br><span class="line">ret[i], ret[<span class="built_in">len</span>(ret)<span class="number">-1</span>-i] = ret[<span class="built_in">len</span>(ret)<span class="number">-1</span>-i], ret[i]</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(ret)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
            <tag> æ ‘ </tag>
            
            <tag> æ ‘å½¢DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BFPRTç®—æ³•-Golang</title>
      <link href="/2020/10/12/BFPRT%E7%AE%97%E6%B3%95-Golang/"/>
      <url>/2020/10/12/BFPRT%E7%AE%97%E6%B3%95-Golang/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™ä¸ªBFPRTç®—æ³•æ‰¾é€»è¾‘Bugæ‰¾äº†ä¸¤å¤©</p></blockquote><p>æ³¨æ„ç‚¹ï¼š</p><ol><li>åœ¨æ‰¾ä¸­ä½æ•°çš„æ—¶å€™å¯¹ä¼ å…¥çš„æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™é‡Œä½¿ç”¨ç›´æ¥æ’å…¥æ’åºï¼Œå› ä¸ºå…ƒç´ ä¸ªæ•°æœ€å¤šä¸º5ï¼Œæ’æ’å¸¸æ•°é¡¹æä½<ol><li>æ³¨æ„ï¼šè¿™é‡Œä¸æ˜¯<del><code>nums[j] &gt; nums[i]</code></del>è€Œæ˜¯<code>for j = i - 1; j &gt;= start &amp;&amp; nums[j] &gt; temp; j--</code>ï¼Œå› ä¸ºåé¢ä¼šå¯¹<code>nums[i]</code>é€ æˆä¿®æ”¹</li></ol></li><li>æ‰¾ä¸­ä½æ•°æ•°ç»„çš„ä¸­ä½æ•°<code>medianOfMedians</code>è¿”å›çš„æ˜¯æœ€ç»ˆçš„ä¸­ä½æ•°çš„å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå€¼è¿›è¡ŒPartitionï¼Œ<del>è‡ªå·±è¿™é‡Œè¿˜ä¸€ç›´å°†å…¶å½“åšè¿”å›çš„ç´¢å¼•ç”¨ï¼Œå¯¼è‡´è¶Šç•Œ</del></li><li><code>BFPRT</code>å‡½æ•°è°ƒç”¨è‡ªå·±çš„æ—¶å€™ï¼Œå‚æ•°ä¸€å®šè¦å¯¹åº”ï¼Œ<del>è‡ªå·±åœ¨å†™çš„æ—¶å€™ç›´æ¥å°†kä¼ å…¥äº†start</del></li></ol><span id="more"></span><h2 id="å…·ä½“æµç¨‹ï¼š"><a href="#å…·ä½“æµç¨‹ï¼š" class="headerlink" title="å…·ä½“æµç¨‹ï¼š"></a>å…·ä½“æµç¨‹ï¼š</h2><p>å…¶å®BFPRTç®—æ³•ä¸æˆ‘ä»¬ä¹‹å‰çš„å¿«æ’å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºé€‰æ‹©åˆ’åˆ†å…ƒç´ ï¼Œä¹‹åçš„partitionè¿‡ç¨‹ä¸æˆ‘ä»¬çš„è·å…°å›½æ——åˆ’åˆ†æ˜¯ä¸€æ ·çš„ã€‚</p><div class="note info"><p>åº”ç”¨åœºæ™¯ï¼šæ— åºæ•°ç»„ä¸­æ‰¾åˆ°ç¬¬Kå°æˆ–ç¬¬Kå¤§çš„æ•°ï¼Œä¹Ÿå¯ä»¥æ‰¾åˆ°å‰Kå¤§æˆ–å‰Kå°çš„æ•°ï¼Œå› ä¸º<strong>å¿«é€Ÿæ’åºçš„partitioné•¿æœŸæœŸæœ›æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ï¼Œè€ŒBFPRTç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ç¨³å®šåœ¨O(N)</strong></p></div><details green><summary> å…·ä½“æµç¨‹ </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/wTcpJO.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/wTcpJO.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="wTcpJO"></p><ol><li>å°†æ•°ç»„æŒ‰ç…§5ä¸ªå…ƒç´ åˆ†æˆä¸€ç»„ï¼Œæœ€åä¸€ç»„ä¸è¶³5ä¸ªå…ƒç´ çš„è‡ªæˆä¸€ç»„ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦ï¼šO(1)</strong></li><li>ç»„å†…æ’åºï¼Œå¹¶å°†æ‰€æœ‰æ•°ç»„çš„ä¸­ä½æ•°ç»„æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦ï¼šO(N)</strong></li><li>è·å¾—æ–°æ•°ç»„çš„ä¸­ä½æ•°ï¼Œä½¿ç”¨è¿™ä¸ªä¸­ä½æ•°è¿›è¡Œpartition(partitionä¸æˆ‘ä»¬è·å…°å›½æ——é—®é¢˜ä¿æŒä¸€è‡´)ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦ï¼šO(N)</strong></li><li>ä¹‹ååˆ¤æ–­æˆ‘ä»¬è¦çš„ç¬¬kå°æˆ–è€…ç¬¬kå¤§æ˜¯å¦åœ¨å¯¹åº”åŒºé—´å†…ï¼Œå¦‚æœåœ¨çš„è¯å°±ç›´æ¥è¿”å›ï¼Œå¦åˆ™é€‰æ‹©ä¸€ä¾§ç»§ç»­é€’å½’ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦ï¼šO(7/10 * n)</strong></li></ol>              </div>            </details><div class="note "><p><strong>å¦‚ä½•æ±‚å‰kå¤§æˆ–è€…å‰kå°å‘¢ï¼Ÿ</strong></p><p>è¿™é‡Œæˆ‘ä»¬çš„BFPRTç®—æ³•è¿”å›çš„æ˜¯ç¬¬kå°çš„æ•°ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦è¿”å›å‰kå°æˆ–è€…å‰kå¤§çš„æ•°ï¼Œæˆ‘ä»¬éœ€è¦å†å¯¹æ•°æ®è¿›è¡Œä¸€æ¬¡éå†ï¼Œæ‰¾åˆ°æ¯”è¯¥æ•°å°çš„ï¼Œå¦‚æœä¸å¤Ÿï¼Œå†åŠ å…¥è¯¥æ•°ï¼Œç›´åˆ°æ‰¾åˆ°kä¸ªä¸ºæ­¢è¿›è¡Œè¿”å›ï¼ŒåŒç†å‰kå¤§çš„æ•°å¯ä»¥è½¬æ¢ä¸ºé•¿åº¦-kå°çš„ï¼Œæ±‚å‡ºä¹‹åæŒ‰ç…§ä¸Šè¿°æ€è·¯æ±‚å¾—æˆ‘ä»¬æœ€ç»ˆçš„å‰kå¤§çš„æ•°å³å¯</p></div><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><blockquote><p>ä»¥BFPRTè·å–ç¬¬Kå°çš„å…ƒç´ ä¸ºä¾‹ï¼Œä¾‹å¦‚ï¼šç›´æ¥è°ƒç”¨BFPRT(nums, 0, len(nums)-1, 1)æ‰¾çš„å°±æ˜¯ç¬¬1å°çš„æ•°ä¹Ÿå°±æ˜¯æœ€å°çš„æ•°</p></blockquote><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @Author: yirufeng</span></span><br><span class="line"><span class="comment"> * @Email: yirufeng@foxmail.com</span></span><br><span class="line"><span class="comment"> * @Date: 2020/10/12 9:08 ä¸Šåˆ</span></span><br><span class="line"><span class="comment"> * @Desc: BFPRTç®—æ³•</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ­¥éª¤ï¼š</span></span><br><span class="line"><span class="comment">1. å°†æ•°ç»„æŒ‰ç…§5ä¸ªå…ƒç´ åˆ†æˆä¸€ç»„ï¼Œæœ€åä¸€ç»„ä¸è¶³5ä¸ªå…ƒç´ çš„è‡ªæˆä¸€ç»„ï¼Œ</span></span><br><span class="line"><span class="comment">2. ç»„å†…æ’åºï¼Œå¹¶å°†æ‰€æœ‰æ•°ç»„çš„ä¸­ä½æ•°ç»„æˆä¸€ä¸ªæ–°æ•°ç»„</span></span><br><span class="line"><span class="comment">3. è·å¾—æ–°æ•°ç»„çš„ä¸­ä½æ•°ï¼Œä½¿ç”¨è¿™ä¸ªä¸­ä½æ•°è¿›è¡Œpartition(partitionä¸æˆ‘ä»¬è·å…°å›½æ——é—®é¢˜ä¿æŒä¸€è‡´)</span></span><br><span class="line"><span class="comment">4. ä¹‹ååˆ¤æ–­æˆ‘ä»¬è¦çš„ç¬¬kå°æˆ–è€…ç¬¬kå¤§æ˜¯å¦åœ¨å¯¹åº”åŒºé—´å†…ï¼Œå¦‚æœåœ¨çš„è¯å°±ç›´æ¥è¿”å›ï¼Œå¦åˆ™é€‰æ‹©ä¸€ä¾§ç»§ç»­é€’å½’</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line"><span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡‡ç”¨ç±»ä¼¼äºè·å…°å›½æ——é—®é¢˜çš„åˆ’åˆ†æ€è·¯ï¼Œåˆ’åˆ†ä¸ºå°äºç­‰äºä¸å¤§äºä¸‰ä¸ªåŒºé—´</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">partition</span><span class="params">(nums []<span class="keyword">int</span>, start <span class="keyword">int</span>, end <span class="keyword">int</span>, target <span class="keyword">int</span>)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//l, råˆ†åˆ«è¡¨ç¤ºå°äºtargetå·²ç»æœ‰åºçš„åŒºåŸŸå’Œå¤§äºtargetå·²ç»æœ‰åºçš„åŒºåŸŸ</span></span><br><span class="line">l, r := start<span class="number">-1</span>, end+<span class="number">1</span></span><br><span class="line">cur := start</span><br><span class="line"><span class="keyword">for</span> cur &lt; r &#123;</span><br><span class="line"><span class="keyword">if</span> nums[cur] &gt; target &#123;</span><br><span class="line">nums[r<span class="number">-1</span>], nums[cur] = nums[cur], nums[r<span class="number">-1</span>]</span><br><span class="line">r--</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[cur] &lt; target &#123;</span><br><span class="line">nums[cur], nums[l+<span class="number">1</span>] = nums[l+<span class="number">1</span>], nums[cur]</span><br><span class="line">l++</span><br><span class="line">cur++</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[cur] == target &#123;</span><br><span class="line">cur++</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> l + <span class="number">1</span>, r - <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–ä¼ å…¥æ•°ç»„numsåœ¨start-&gt;endä¹‹é—´çš„ä¸­ä½æ•°ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªè¾¹ç•Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getMedianOfNums</span><span class="params">(nums []<span class="keyword">int</span>, start <span class="keyword">int</span>, end <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">//å¯¹nums[start:end]è¿›è¡Œç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line"><span class="keyword">var</span> temp, j <span class="keyword">int</span></span><br><span class="line"><span class="keyword">for</span> i := start + <span class="number">1</span>; i &lt;= end; i++ &#123;</span><br><span class="line">temp = nums[i]</span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹1ï¼šnums[j] &gt; temp</span></span><br><span class="line"><span class="keyword">for</span> j = i - <span class="number">1</span>; j &gt;= start &amp;&amp; nums[j] &gt; temp; j-- &#123;</span><br><span class="line">nums[j+<span class="number">1</span>] = nums[j]</span><br><span class="line">&#125;</span><br><span class="line">nums[j+<span class="number">1</span>] = temp</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> nums[start+(end-start)&gt;&gt;<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€‰å–ä¸­ä½æ•°æ•°ç»„çš„ä¸­ä½æ•°å¹¶è¿›è¡Œè¿”å›</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">medianOfMedians</span><span class="params">(nums []<span class="keyword">int</span>, start <span class="keyword">int</span>, end <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¦–å…ˆå°†ä¼ å…¥çš„æ•°ç»„æœ‰æ•ˆåŒºé—´å†…çš„å…ƒç´ æ¯5ä¸ªåˆ’åˆ†ä¸º1ç»„ï¼Œä¸è¶³5ä¸ªçš„ä¸åˆ’åˆ†</span></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹2ï¼šæ˜¯float64(end - start + 1)ä¸æ˜¯float64(len(nums))</span></span><br><span class="line">medianNums := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="keyword">int</span>(math.Ceil(<span class="keyword">float64</span>(end-start+<span class="number">1</span>)/<span class="number">5.0</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾åˆ°æ¯ä¸ªæ•°ç»„çš„ä¸­ä½æ•°ï¼Œæ·»åŠ åˆ°æˆ‘ä»¬çš„ä¸­ä½æ•°æ•°ç»„ä¸­</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(medianNums); i++ &#123;</span><br><span class="line">val := getMedianOfNums(nums, start+i*<span class="number">5</span>, min(start+i*<span class="number">5</span>+<span class="number">4</span>, end))</span><br><span class="line">medianNums[i] = val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›ä¸­ä½æ•°æ•°ç»„çš„ä¸­ä½æ•°</span></span><br><span class="line"><span class="keyword">return</span> getMedianOfNums(medianNums, <span class="number">0</span>, <span class="built_in">len</span>(medianNums)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€åä¸€ä¸ªå‚æ•°kè¡¨ç¤ºè¦ç¬¬kå°çš„æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›ç¬¬kå°çš„æ•°ï¼Œå…¶ä¸­kä»1å¼€å§‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BFPRT</span><span class="params">(nums []<span class="keyword">int</span>, start <span class="keyword">int</span>, end <span class="keyword">int</span>, k <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">//é€’å½’ç»“æŸæ¡ä»¶</span></span><br><span class="line"><span class="keyword">if</span> start == end &#123;</span><br><span class="line"><span class="keyword">return</span> nums[start]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–numsæ¯5ä¸ªä¸€ç»„ååˆ’åˆ†çš„ä¸­ä½æ•°æ•°ç»„çš„ä¸­ä½æ•°</span></span><br><span class="line"><span class="comment">//ä¹‹åæ ¹æ®pivotè¿›è¡Œpartition</span></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹3ï¼šè¿™é‡Œæ˜¯medianOfMedians(nums, start, end)è€Œä¸æ˜¯nums[medianOfMedians(nums, start, end)]</span></span><br><span class="line"><span class="comment">//å› ä¸ºæˆ‘ä»¬medianOfMedians(nums, start, end)è¿”å›çš„å°±æ˜¯åˆ’åˆ†å€¼</span></span><br><span class="line">l, r := partition(nums, start, end, medianOfMedians(nums, start, end))</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­kæ˜¯å¦åœ¨åˆ’åˆ†åçš„ä¸¤ä¸ªç´¢å¼•</span></span><br><span class="line"><span class="keyword">if</span> k &gt;= l &amp;&amp; k &lt;= r &#123;</span><br><span class="line"><span class="keyword">return</span> nums[l]</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> k &lt; l &#123;</span><br><span class="line"><span class="keyword">return</span> BFPRT(nums, start, l<span class="number">-1</span>, k)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> BFPRT(nums, r+<span class="number">1</span>, end, k)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>æŒ‰ç…§æ²ˆå‰‘è€å¸ˆçš„æ€»ç»“ï¼š</p><blockquote><p>TopKï¼Œä¸éš¾ï¼›å…¶æ€è·¯ä¼˜åŒ–è¿‡ç¨‹ï¼Œä¸ç®€å•ï¼š</p></blockquote><ol><li>å…¨å±€æ’åºï¼ŒO(n*lg(n))</li><li>å±€éƒ¨æ’åºï¼Œåªæ’åºTopKä¸ªæ•°ï¼ŒO(n*k)</li><li>å †ï¼ŒTopKä¸ªæ•°ä¹Ÿä¸æ’åºäº†ï¼ŒO(n*lg(k))</li><li>åˆ†æ²»æ³•ï¼Œæ¯ä¸ªåˆ†æ”¯â€œéƒ½è¦â€é€’å½’ï¼Œä¾‹å¦‚ï¼šå¿«é€Ÿæ’åºï¼ŒO(n*lg(n))</li><li>å‡æ²»æ³•ï¼Œâ€œåªè¦â€é€’å½’ä¸€ä¸ªåˆ†æ”¯ï¼Œä¾‹å¦‚ï¼šäºŒåˆ†æŸ¥æ‰¾O(lg(n))ï¼Œéšæœºé€‰æ‹©O(n)</li><li>TopKçš„å¦ä¸€ä¸ªè§£æ³•ï¼šéšæœºé€‰æ‹©+partition</li><li>æœ¬æ–‡è®²è§£çš„bfprtï¼Œæ—¶é—´å¤æ‚åº¦é•¿æœŸç¨³å®šåœ¨O(N)</li></ol><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol><li><a href="https://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=2651961587&idx=1&sn=54bf39db7043cc638315caf70f24d94b&chksm=bd2d0d2f8a5a84395246be4522d10fbfc1f744658047d5fb3fad8e9f3c3d76baab3a2ce84867&scene=21#wechat_redirect">å‚è€ƒ</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> BFPRT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BFPRT </tag>
            
            <tag> topK </tag>
            
            <tag> æ‰¾ç¬¬å‡ å¤§æˆ–ç¬¬å‡ å° </tag>
            
            <tag> æ‰¾å‰å‡ å¤§æˆ–å‰å‡ å° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸åŸºäºæ¯”è¾ƒçš„æ’åºæ‰¾åˆ°æ•°ç»„æ’åºåçš„æœ€å¤§å·®å€¼</title>
      <link href="/2020/09/26/%E4%B8%8D%E5%9F%BA%E4%BA%8E%E6%89%BE%E5%88%B0%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%E5%90%8E%E7%9A%84%E6%9C%80%E5%A4%A7%E5%B7%AE%E5%80%BC/"/>
      <url>/2020/09/26/%E4%B8%8D%E5%9F%BA%E4%BA%8E%E6%89%BE%E5%88%B0%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%E5%90%8E%E7%9A%84%E6%9C%80%E5%A4%A7%E5%B7%AE%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><div class="note done"><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å¦‚æœæ’åºä¹‹åï¼Œç›¸é‚»ä¸¤æ•°çš„æœ€å¤§å·®å€¼ï¼Œè¦æ±‚æ—¶ é—´å¤æ‚åº¦O(N)ï¼Œä¸”è¦æ±‚ä¸èƒ½ç”¨éåŸºäºæ¯”è¾ƒçš„æ’åº</p></div><div class="note info"><p>æ³¨æ„ä¸åŸºäºæ¯”è¾ƒå“¦</p></div><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><details cyan open><summary> æ€è·¯ï¼šæ¡¶æ’åº </summary>              <div class='content'>              <ol><li>å‡è®¾æ•°ç»„é•¿åº¦ä¸ºnï¼Œå‡†å¤‡n+1ä¸ªæ¡¶</li><li>éå†è¯¥æ•°ç»„ï¼Œå°†æœ€å°å€¼æ”¾å…¥åˆ°ç¬¬1ä¸ªä½ç½®ï¼Œå°†æœ€å¤§å€¼æ”¾å…¥åˆ°æœ€åä¸€ä¸ªä½ç½®</li><li>å°†å‰©ä¸‹çš„æ•°ç­‰åˆ†æˆç­‰åˆ†æˆn-1ä»½ä¾æ¬¡æ”¾å…¥å‰©ä¸‹å¯¹åº”èŒƒå›´çš„æ¡¶ä¸­ï¼Œ</li><li>æœ€åè¿™n+1ä¸ªæ¡¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ¡¶ï¼Œè¯´æ˜æ¡¶å†…çš„æ•°å€¼å·®ä¸æ˜¯æœ€å¤§å·®å€¼ï¼Œæˆ‘ä»¬å»æ¡¶é—´æ‰¾æœ€å¤§å·®å€¼</li><li>å¯¹äºæ¯ä¸ªæ¡¶ï¼Œæˆ‘ä»¬éƒ½ä¿å­˜äº†æ¯ä¸ªæ¡¶çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œä»ç¬¬2ä¸ªæ¡¶å¼€å§‹ï¼Œæ¯æ¬¡è®¡ç®—å½“å‰æ¡¶çš„æœ€å°å€¼ä¸å‰ä¸€ä¸ªæ¡¶(<strong>è¦æœ‰å…ƒç´ </strong>)çš„æœ€å¤§å€¼çš„å·®ï¼Œè¿‡ç¨‹ä¸­æˆ‘ä»¬åŠ¨æ€æ›´æ–°æœ€å¤§å·®å€¼</li></ol>              </div>            </details><span id="more"></span><h2 id="å…·ä½“ç¼–ç "><a href="#å…·ä½“ç¼–ç " class="headerlink" title="å…·ä½“ç¼–ç "></a>å…·ä½“ç¼–ç </h2><details cyan><summary> å®ç°ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetMaxDiff</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">maxNum := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(nums)+<span class="number">1</span>)</span><br><span class="line">minNum := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(nums)+<span class="number">1</span>)</span><br><span class="line">hasNum := <span class="built_in">make</span>([]<span class="keyword">bool</span>, <span class="built_in">len</span>(nums)+<span class="number">1</span>)      <span class="comment">//ç”¨æ¥æ ‡è®°æ¡¶æ˜¯å¦æœ‰å€¼</span></span><br><span class="line">min, max := math.MaxInt64, math.MinInt64 <span class="comment">//æ•´ä¸ªæ•°ç»„çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</span></span><br><span class="line">maxDiff := math.MinInt64                 <span class="comment">//æœ€å¤§å·®å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾æ•°ç»„çš„æœ€å¤§å€¼ä¸æœ€å°å€¼</span></span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line"><span class="keyword">if</span> v &gt; max &#123;</span><br><span class="line">max = v</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> min &gt; v &#123;</span><br><span class="line">min = v</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ä¸ªä½ç½®æ”¾æœ€å°å€¼ï¼Œç¬¬2ä¸ªä½ç½®æ”¾æœ€å¤§å€¼</span></span><br><span class="line">hasNum[<span class="number">0</span>], hasNum[<span class="built_in">len</span>(nums)] = <span class="literal">true</span>, <span class="literal">true</span></span><br><span class="line"><span class="comment">//å°†æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹é—´ç­‰åˆ†æˆn(nä¸ºæ•°ç»„çš„é•¿åº¦)-1ä»½ï¼Œä¾æ¬¡éå†å±äºå“ªä¸ªèŒƒå›´å°±åŠ å…¥å“ªä¸ªæ¡¶</span></span><br><span class="line">diff := <span class="keyword">float64</span>(max-min) / <span class="keyword">float64</span>(<span class="built_in">len</span>(nums)<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">indexBucket := <span class="keyword">int</span>(math.Ceil(<span class="keyword">float64</span>(v-min) / diff))</span><br><span class="line"><span class="comment">//å¦‚æœå½“å‰æ¡¶æ²¡æœ‰å€¼</span></span><br><span class="line"><span class="keyword">if</span> !hasNum[indexBucket] &#123;</span><br><span class="line">maxNum[indexBucket] = v</span><br><span class="line">minNum[indexBucket] = v</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//å½“å‰æ¡¶æœ‰å€¼ä¸”å½“å‰æ¡¶çš„æœ€å¤§å€¼å°äºå½“å‰å…ƒç´  åˆ™æ›´æ–°</span></span><br><span class="line"><span class="keyword">if</span> maxNum[indexBucket] &lt; v &#123;</span><br><span class="line">maxNum[indexBucket] = v</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> minNum[indexBucket] &gt; v &#123;</span><br><span class="line">minNum[indexBucket] = v</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ€åå°†å½“å‰æ¡¶ç½®ä¸ºtrueï¼Œè¯´æ˜å·²æ”¾å…¥å…ƒç´ </span></span><br><span class="line">hasNum[indexBucket] = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡Œè¦æ³¨æ„ï¼šä¸æ˜¯ä¸¤ä¸ªç›¸é‚»çš„æ¡¶ä¹‹é—´è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//éå†æ¡¶ï¼Œæ‰¾å½“å‰æ¡¶ä¸ä¸Šä¸€ä¸ªå­˜æ”¾å…ƒç´ çš„æ¡¶çš„æœ€å¤§å·®å€¼å¹¶è¿”å›</span></span><br><span class="line">lastMax := min <span class="comment">//å­˜æ”¾ä¸Šä¸€ä¸ªæœ€å¤§</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line"><span class="keyword">if</span> hasNum[i] &#123;</span><br><span class="line"><span class="keyword">if</span> maxDiff &lt; minNum[i]-lastMax &#123;</span><br><span class="line">maxDiff = minNum[i] - lastMax</span><br><span class="line">&#125;</span><br><span class="line">lastMax = maxNum[i]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxDiff</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">nums := utils.RandArrayRange(<span class="number">10</span>, <span class="number">10</span>, <span class="number">99</span>)</span><br><span class="line">fmt.Println(nums)</span><br><span class="line">fmt.Println(GetMaxDiff(nums))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ’åº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ’åº </tag>
            
            <tag> æ¡¶æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å †æ’åº</title>
      <link href="/2020/09/24/%E5%A0%86%E6%8E%92%E5%BA%8F/"/>
      <url>/2020/09/24/%E5%A0%86%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="å †æ’åºåŸºæœ¬çŸ¥è¯†"><a href="#å †æ’åºåŸºæœ¬çŸ¥è¯†" class="headerlink" title="å †æ’åºåŸºæœ¬çŸ¥è¯†"></a>å †æ’åºåŸºæœ¬çŸ¥è¯†</h2><details green><summary> åŸºæœ¬ä»‹ç» </summary>              <div class='content'>              <p>å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨èŠ‚ç‚¹çš„ç‰¹æ€§å»ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¨¡æ‹Ÿä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼š</p><ol><li>ä¸‹æ ‡ä¸ºiçš„èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º<code>i*2+1</code>, å³å­èŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º<code>i*2+2</code></li><li>ä¸‹æ ‡ä¸ºiçš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º(i-1)/2</li></ol>              </div>            </details><div class="note info"><p>å»ºç«‹å †çš„æ—¶é—´å¤æ‚åº¦ï¼šO(log1) + O(log2) + â€¦ + O(logN) è¿‘ä¼¼äº O(N)ï¼Œå› æ­¤å»ºç«‹å †çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N)</p></div><div class="note info"><p>å †æœ‰å¤§æ ¹å †ä»¥åŠå°æ ¹å †ï¼Œæ²¡æœ‰è§„å®šå †ä¸­å·¦å­æ ‘çš„æ ¹å¿…é¡»å¤§äº(æˆ–å°äº)å³å­æ ‘çš„æ ¹ã€‚</p></div><details green><summary> å †æ’åºçš„ä¸¤ä¸ªåŸºæœ¬æ­¥éª¤ï¼š(å…·ä½“è¯´æ˜çœ‹ä»£ç æ³¨é‡Š) </summary>              <div class='content'>              <ol><li>å»ºå †ï¼Œå¾ªç¯å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°åŠ å…¥å †ä¸­ï¼ˆæ¯æ¬¡éƒ½éœ€è¦heapInsertï¼‰</li><li>ä¸æ–­ä»å †çš„æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢åˆ°å †çš„å¤´éƒ¨ï¼Œç„¶åå°†å †çš„é•¿åº¦å‡å°1ï¼Œå†è°ƒæ•´å †ï¼Œæ¯æ¬¡éƒ½éœ€è¦heapify</li></ol>              </div>            </details><span id="more"></span><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><details green><summary> æŸ¥çœ‹ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HeapSort</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">heapSort(nums)</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">heapSort</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> nums == <span class="literal">nil</span> || <span class="built_in">len</span>(nums) &lt; <span class="number">2</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å»ºç«‹å †çš„è¿‡ç¨‹</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">heapInsert(nums, i)</span><br><span class="line">&#125;</span><br><span class="line">log.Println(<span class="string">&quot;å»ºå †å®Œæˆ---------------&gt;&quot;</span>, nums)</span><br><span class="line">heapSize := <span class="built_in">len</span>(nums)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹‹åä¸æ–­åå‡ºå…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> heapSize &gt; <span class="number">0</span> &#123;</span><br><span class="line">nums[<span class="number">0</span>], nums[heapSize<span class="number">-1</span>] = nums[heapSize<span class="number">-1</span>], nums[<span class="number">0</span>]</span><br><span class="line">heapSize--</span><br><span class="line">heapify(nums, heapSize, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºæ–°åŠ å…¥ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œå‘ä¸Šè°ƒæ•´å †</span></span><br><span class="line"><span class="comment">//ç¬¬2ä¸ªå‚æ•°è¡¨ç¤ºæ–°åŠ å…¥çš„å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">//è¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N) = O(log1 + log2 + ... + logN) è¿‘ä¼¼ç­‰äº O(N)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">heapInsert</span><span class="params">(nums []<span class="keyword">int</span>, index <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//è¿™é‡Œå·¦ç¥è¯´äº†ä¸ç”¨åŠ å¾ªç¯ç»“æŸæ¡ä»¶ï¼Œå› ä¸ºæœ€ç»ˆçš„ç»“æŸæ¡ä»¶å°±æ˜¯indexä¸º0çš„æ—¶å€™</span></span><br><span class="line"><span class="comment">//å› ä¸º-1/2ä¹Ÿä¸º0</span></span><br><span class="line"><span class="keyword">for</span> nums[(index<span class="number">-1</span>)/<span class="number">2</span>] &lt; nums[index] &#123;</span><br><span class="line">nums[index], nums[(index<span class="number">-1</span>)&gt;&gt;<span class="number">1</span>] = nums[(index<span class="number">-1</span>)&gt;&gt;<span class="number">1</span>], nums[index]</span><br><span class="line">index = (index - <span class="number">1</span>) &gt;&gt; <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å·¦è€å¸ˆçš„å†™æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//func heapify(nums []int, heapSize int, index int) &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//left := 2*index + 1</span></span><br><span class="line"><span class="comment">//for left &lt; heapSize &#123;</span></span><br><span class="line"><span class="comment">//larger := left</span></span><br><span class="line"><span class="comment">////é¦–å…ˆæ‰¾åˆ°å·¦å³å­©å­ä¸­æœ€å¤§çš„</span></span><br><span class="line"><span class="comment">//if left+1 &lt; heapSize &amp;&amp; nums[left] &lt; nums[left+1] &#123;</span></span><br><span class="line"><span class="comment">//larger++</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////è¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœä½¿ç”¨ä¸€ä¸ªå˜é‡è¿™é‡Œå¯èƒ½ä¼šæº¢å‡ºï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„largerç»è¿‡äº†å‰é¢çš„éªŒè¯</span></span><br><span class="line"><span class="comment">//if nums[larger] &lt;= nums[index] &#123;</span></span><br><span class="line"><span class="comment">//break</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//nums[index], nums[larger] = nums[larger], nums[index]</span></span><br><span class="line"><span class="comment">//index = larger</span></span><br><span class="line"><span class="comment">//left = index*2 + 1</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºå°†å †é¡¶çš„å…ƒç´ å’Œå †ä¸­æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ä¹‹åï¼Œå‘ä¸‹è°ƒæ•´å †</span></span><br><span class="line"><span class="comment">//ç¬¬2ä¸ªå‚æ•°ä¸ºå †çš„å®é™…å¤§å°ï¼Œå› ä¸ºnumsæ˜¯å­˜æ”¾ä¸€ä¸ªæ•°ç»„ï¼Œ</span></span><br><span class="line"><span class="comment">//ç¬¬3ä¸ªå‚æ•°è¡¨ç¤ºè¯¥ä½ç½®å…ƒç´ å˜åŠ¨ï¼Œå¯¼è‡´è¯¥å…ƒç´ å¯èƒ½è¦å¾€ä¸‹æ²‰</span></span><br><span class="line"><span class="comment">//çœŸæ­£çš„å †æ˜¯ä»0-&gt;heapSize-1</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">heapify</span><span class="params">(nums []<span class="keyword">int</span>, heapSize <span class="keyword">int</span>, index <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„å¾ªç¯æ¡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> i := index; i*<span class="number">2</span>+<span class="number">1</span> &lt; heapSize; &#123;</span><br><span class="line">left := <span class="number">2</span>*i + <span class="number">1</span></span><br><span class="line"><span class="comment">//å¦‚æœæœ‰å³å¹¶ä¸”å³æ¯”å·¦å¤§</span></span><br><span class="line"><span class="keyword">if</span> left+<span class="number">1</span> &lt; heapSize &amp;&amp; nums[left+<span class="number">1</span>] &gt; nums[left] &#123;</span><br><span class="line">left++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸å·¦å³ä¸­è¾ƒå¤§çš„æ¯”è¾ƒ</span></span><br><span class="line"><span class="keyword">if</span> nums[i] &gt;= nums[left] &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">nums[i], nums[left] = nums[left], nums[i]</span><br><span class="line">i = left</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ’åº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ’åº </tag>
            
            <tag> å †æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•é—®é¢˜ä¹‹Top Kç³»åˆ—</title>
      <link href="/2020/09/12/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E4%B9%8BTop%20K%E7%B3%BB%E5%88%97/"/>
      <url>/2020/09/12/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E4%B9%8BTop%20K%E7%B3%BB%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯æ•´ç†ï¼š"><a href="#æ€è·¯æ•´ç†ï¼š" class="headerlink" title="æ€è·¯æ•´ç†ï¼š"></a>æ€è·¯æ•´ç†ï¼š</h2><span id="more"></span><details green><summary> å¦‚å›¾æ‰€ç¤º </summary>              <div class='content'>              <ol><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/aLjufN.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/aLjufN.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="aLjufN"></li><li><img src="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/b8s2H2.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/sivanWu0222/ImageHosting@master/uPic/b8s2H2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="b8s2H2"></li></ol>              </div>            </details><h2 id="å‡ ç§æ–¹æ³•è®²è§£"><a href="#å‡ ç§æ–¹æ³•è®²è§£" class="headerlink" title="å‡ ç§æ–¹æ³•è®²è§£"></a>å‡ ç§æ–¹æ³•è®²è§£</h2><blockquote><p>ä»¥å‰‘æŒ‡offer40é¢˜ä¸ºä¾‹ï¼Œ<strong>æ±‚æœ€å°çš„kä¸ªæ•°å­—</strong></p></blockquote><h3 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h3><blockquote><p>æ€è·¯ï¼šç›´æ¥ç”¨æœ€å¿«çš„æ’åºæ–¹æ³•æ’å¥½åºåå–å‰kä¸ªæˆ–è€…åkä¸ªå…ƒç´ å³å¯</p></blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n * logn)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLeastNumbers</span><span class="params">(arr []<span class="keyword">int</span>, k <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> QuickSort(arr)[:k]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">QuickSort</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">quickSort(nums, <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">quickSort</span><span class="params">(nums []<span class="keyword">int</span>, low <span class="keyword">int</span>, high <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> pivotkey <span class="keyword">int</span></span><br><span class="line"><span class="comment">//ä¼˜åŒ–1ï¼šå°¾é€’å½’ä¼˜åŒ–</span></span><br><span class="line"><span class="keyword">for</span> low &lt; high &#123;</span><br><span class="line"><span class="comment">//pivotkey ä¸ºæ¢è½´é˜²æ­¢çš„æœ€ç»ˆä¸‹æ ‡</span></span><br><span class="line">pivotkey = partition(nums, low, high)</span><br><span class="line">quickSort(nums, low, pivotkey<span class="number">-1</span>)</span><br><span class="line">low = pivotkey + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">partition</span><span class="params">(nums []<span class="keyword">int</span>, low <span class="keyword">int</span>, high <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">//ä¼˜åŒ–2ï¼šä½¿ç”¨éšæœºæ•°é€‰æ‹©åˆ’åˆ†æ¢è½´</span></span><br><span class="line"><span class="comment">//è®¾ç½®éšæœºæ•°ç§å­</span></span><br><span class="line">rand.Seed(time.Now().UnixNano())</span><br><span class="line"><span class="comment">//é€‰æ‹©[0,n)</span></span><br><span class="line"><span class="comment">//rand.Intn(n)</span></span><br><span class="line"><span class="comment">//é€‰æ‹©åˆ’åˆ†å…ƒç´ </span></span><br><span class="line">dummyIndex := rand.Intn(high-low+<span class="number">1</span>) + low</span><br><span class="line"><span class="comment">//å°†éšæœºé€‰æ‹©çš„å…ƒç´ æ”¾ç½®åˆ°lowä½ç½®ä¸Šï¼Œä»¥åä¾¿äºåœ¨é«˜å¤„æ‰¾åˆ°æ¯”åˆ’åˆ†å…ƒç´ å°çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ç›´æ¥è®©highèµ‹å€¼ç»™low</span></span><br><span class="line">swap(nums, low, dummyIndex)</span><br><span class="line">dummyVal := nums[low]</span><br><span class="line"><span class="keyword">for</span> low &lt; high &#123;</span><br><span class="line"><span class="keyword">for</span> low &lt; high &amp;&amp; dummyVal &lt;= nums[high] &#123;</span><br><span class="line">high--</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¼˜åŒ–3ï¼šæˆ‘ä»¬ä½¿ç”¨æ›¿æ¢è€Œä¸æ˜¯äº¤æ¢</span></span><br><span class="line"><span class="comment">//é«˜å¤„æ‰¾åˆ°å°çš„ç›´æ¥èµ‹å€¼ç»™low</span></span><br><span class="line">nums[low] = nums[high]</span><br><span class="line"><span class="keyword">for</span> low &lt; high &amp;&amp; dummyVal &gt;= nums[low] &#123;</span><br><span class="line">low++</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä½å¤„æ‰¾åˆ°å¤§çš„ç›´æ¥èµ‹å€¼ç»™high</span></span><br><span class="line">nums[high] = nums[low]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ€ålow == high</span></span><br><span class="line">nums[low] = dummyVal</span><br><span class="line"><span class="keyword">return</span> low</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(nums []<span class="keyword">int</span>, i <span class="keyword">int</span>, j <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h3><blockquote><p>æ€è·¯ï¼šå†’æ³¡æ’åºæ¯æ¬¡éƒ½ä¼šå°†1ä¸ªå…ƒç´ æ”¾ç½®åˆ°æœ€ç»ˆä½ç½®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å†’æ³¡kè¶Ÿ</p></blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(k * n)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLeastNumbers</span><span class="params">(arr []<span class="keyword">int</span>, k <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">//éœ€è¦å†’æ³¡kæ¬¡</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= k; i++ &#123;</span><br><span class="line"><span class="comment">//æ¯æ¬¡ä»å€’æ•°ç¬¬2ä¸ªå…ƒç´ å¼€å§‹ä¸€ç›´åˆ°å‰é¢çš„ç¬¬i-1ä¸ªå…ƒç´ ï¼Œä¾‹å¦‚ç¬¬1è¶Ÿæ˜¯åˆ°ç¬¬0ä¸ª(å› ä¸ºæ¯æ¬¡æ˜¯å’Œåé¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒ)</span></span><br><span class="line"><span class="keyword">for</span> j := <span class="built_in">len</span>(arr) - <span class="number">2</span>; j &gt;= i<span class="number">-1</span>; j-- &#123;</span><br><span class="line"><span class="keyword">if</span> arr[j] &gt; arr[j+<span class="number">1</span>] &#123;</span><br><span class="line">arr[j+<span class="number">1</span>], arr[j] = arr[j], arr[j+<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> arr[:k]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="æ–¹æ³•ä¸‰ï¼š"><a href="#æ–¹æ³•ä¸‰ï¼š" class="headerlink" title="æ–¹æ³•ä¸‰ï¼š"></a>æ–¹æ³•ä¸‰ï¼š</h3><blockquote><p>æ€è·¯ï¼šæ„å»ºä¸€ä¸ªå®¹é‡ä¸ºkçš„å †ï¼Œä¸æ–­éå†æ•°æ®ï¼Œæ’å…¥åè¿›è¡Œè°ƒæ•´ï¼Œæœ€åä¾æ¬¡è¿”å›ç»„åˆæˆæˆ‘ä»¬è¦çš„ç»“æœ</p></blockquote><p><strong>é€‚åˆå¤„ç†æµ·é‡æ•°æ®</strong></p><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n*logk)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(K)</p><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> IntHeap []<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Heap Interface</span></span><br><span class="line"><span class="comment">//type Interface interface &#123;</span></span><br><span class="line"><span class="comment">//    sort.Interface</span></span><br><span class="line"><span class="comment">//    Push(x interface&#123;&#125;) // å‘æœ«å°¾æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="comment">//    Pop() interface&#123;&#125;   // ä»æœ«å°¾åˆ é™¤å…ƒç´ </span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *IntHeap)</span> <span class="title">Push</span><span class="params">(x <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">*h = <span class="built_in">append</span>(*h, x.(<span class="keyword">int</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *IntHeap)</span> <span class="title">Pop</span><span class="params">()</span> <span class="title">interface</span></span>&#123;&#125; &#123;</span><br><span class="line">old := *h</span><br><span class="line">n := <span class="built_in">len</span>(old)</span><br><span class="line">x := old[n<span class="number">-1</span>]</span><br><span class="line">*h = old[<span class="number">0</span> : n<span class="number">-1</span>]</span><br><span class="line"><span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sort Interface</span></span><br><span class="line"><span class="comment">//type Interface interface &#123;</span></span><br><span class="line"><span class="comment">//    // Lenæ–¹æ³•è¿”å›é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="comment">//    Len() int</span></span><br><span class="line"><span class="comment">//    // Lessæ–¹æ³•æŠ¥å‘Šç´¢å¼•içš„å…ƒç´ æ˜¯å¦æ¯”ç´¢å¼•jçš„å…ƒç´ å°</span></span><br><span class="line"><span class="comment">//    Less(i, j int) bool</span></span><br><span class="line"><span class="comment">//   // Swapæ–¹æ³•äº¤æ¢ç´¢å¼•iå’Œjçš„ä¸¤ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">//    Swap(i, j int)</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h IntHeap)</span> <span class="title">Len</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">len</span>(h)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ˜æ˜¯ä¸€ä¸ªå°é¡¶å †</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h IntHeap)</span> <span class="title">Less</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> h[i] &lt; h[j]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h IntHeap)</span> <span class="title">Swap</span><span class="params">(i, j <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">h[i], h[j] = h[j], h[i]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLeastNumbers</span><span class="params">(arr []<span class="keyword">int</span>, k <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">h := &amp;IntHeap&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> _, val := <span class="keyword">range</span> arr &#123;</span><br><span class="line">heap.Push(h, val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ret := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; k; i++ &#123;</span><br><span class="line">ret = <span class="built_in">append</span>(ret, heap.Pop(h).(<span class="keyword">int</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="æ–¹æ³•å››ï¼š"><a href="#æ–¹æ³•å››ï¼š" class="headerlink" title="æ–¹æ³•å››ï¼š"></a>æ–¹æ³•å››ï¼š</h3><blockquote><p>æ€è·¯ï¼šéšæœºé€‰æ‹©ï¼Œé€šè¿‡å‡æ²»çš„æ€æƒ³åˆ©ç”¨å¿«é€Ÿæ’åºä¸­çš„partitionæ–¹æ³•å¯ä»¥å¯¹æˆ‘ä»¬è¦æ±‚çš„é‚£ä¸ªåˆ’åˆ†è½´è¿›è¡Œå¿«é€Ÿé€‰æ‹©ï¼Œ</p></blockquote><p>ç®—æ³•å¯¼è®ºä¸­æè¿‡ï¼Œæˆ‘ä»¬æœ‰æˆç†Ÿçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„ç®—æ³•æ¥è·å–ä»»æ„ç¬¬kå¤§çš„æ•°ï¼Œä¹Ÿå°±æ˜¯åŸºäºpartitionçš„éšæœºé€‰æ‹©æ–¹æ³•</p><p>æ—¶é—´å¤æ‚åº¦ï¼šO(N)<br>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><p><strong>ä¼šå¯¹ä¼ å…¥çš„åˆ‡ç‰‡è¿›è¡Œä¿®æ”¹</strong></p><details green><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">partition</span><span class="params">(arr []<span class="keyword">int</span>, start <span class="keyword">int</span>, end <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">rand.Seed(time.Now().UnixNano())</span><br><span class="line"></span><br><span class="line">index := rand.Intn(end-start+<span class="number">1</span>) + start</span><br><span class="line">val := arr[index]</span><br><span class="line">arr[index], arr[start] = arr[start], arr[index]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> start &lt; end &#123;</span><br><span class="line"><span class="keyword">for</span> start &lt; end &amp;&amp; val &lt;= arr[end] &#123;</span><br><span class="line">end--</span><br><span class="line">&#125;</span><br><span class="line">arr[start] = arr[end]</span><br><span class="line"><span class="keyword">for</span> start &lt; end &amp;&amp; val &gt;= arr[start] &#123;</span><br><span class="line">start++</span><br><span class="line">&#125;</span><br><span class="line">arr[end] = arr[start]</span><br><span class="line">&#125;</span><br><span class="line">arr[start] = val</span><br><span class="line"><span class="keyword">return</span> start</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getLeastNumbers</span><span class="params">(arr []<span class="keyword">int</span>, k <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"><span class="comment">//ç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">0</span> || k &lt;= <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> k &gt;= <span class="built_in">len</span>(arr) &#123;</span><br><span class="line"><span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">index := partition(arr, <span class="number">0</span>, <span class="built_in">len</span>(arr)<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">for</span> index != k<span class="number">-1</span> &#123;</span><br><span class="line"><span class="keyword">if</span> index &gt; k<span class="number">-1</span> &#123; <span class="comment">//è¯´æ˜åœ¨å·¦è¾¹</span></span><br><span class="line">index = partition(arr, <span class="number">0</span>, index<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> index &lt; k<span class="number">-1</span> &#123;</span><br><span class="line">index = partition(arr, index+<span class="number">1</span>, <span class="built_in">len</span>(arr)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ°è¿™é‡Œè¯´æ˜partitionåˆ’åˆ†ä¸ºindexå°±æ˜¯ç¬¬kä¸ªå…ƒç´ ï¼Œç›´æ¥è¿”å›å³å¯</span></span><br><span class="line"><span class="keyword">return</span> arr[:k]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="æ–¹æ³•å››ã€æœ€ä¼˜è§£ã€‘ï¼šBFPRT"><a href="#æ–¹æ³•å››ã€æœ€ä¼˜è§£ã€‘ï¼šBFPRT" class="headerlink" title="æ–¹æ³•å››ã€æœ€ä¼˜è§£ã€‘ï¼šBFPRT"></a>æ–¹æ³•å››ã€æœ€ä¼˜è§£ã€‘ï¼šBFPRT</h2><p><a href="http://www.sivan.tech/2020/10/12/BFPRT%E7%AE%97%E6%B3%95-Golang/">å‚è€ƒ</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://mp.weixin.qq.com/s/FFsvWXiaZK96PtUg-mmtEw">58æ²ˆå‰‘è®²è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†’æ³¡æ’åºä»¥åŠä¼˜åŒ–</title>
      <link href="/2020/09/10/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E4%BB%A5%E5%8F%8A%E4%BC%98%E5%8C%96/"/>
      <url>/2020/09/10/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E4%BB%A5%E5%8F%8A%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><p>æ€è·¯ï¼šä»å·¦å‘å³æ¯æ¬¡ä¸¤ä¸¤æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå°±äº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ ï¼Œä¸€è¶Ÿä¸‹æ¥è‚¯å®šæœ‰ä¸€ä¸ªå…ƒç´ æ”¾åˆ°äº†æœ€åçš„ä½ç½®</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BubbleSort</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">bubbleSort(nums)</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bubbleSort</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//ä»å‰å¾€åè¿›è¡Œäº¤æ¢ï¼Œæ¯æ¬¡éƒ½ä¼šå›ºå®šå¥½åé¢çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums)<span class="number">-1</span>; i++ &#123;</span><br><span class="line"><span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(nums)<span class="number">-1</span>-i; j++ &#123;</span><br><span class="line"><span class="comment">//ä¸¤ä¸¤æ¯”è¾ƒå¹¶äº¤æ¢</span></span><br><span class="line"><span class="keyword">if</span> nums[j] &gt; nums[j+<span class="number">1</span>] &#123;</span><br><span class="line">nums[j], nums[j+<span class="number">1</span>] = nums[j+<span class="number">1</span>], nums[j]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="ä¼˜åŒ–ç‰ˆæœ¬çš„å†’æ³¡æ’åº"><a href="#ä¼˜åŒ–ç‰ˆæœ¬çš„å†’æ³¡æ’åº" class="headerlink" title="ä¼˜åŒ–ç‰ˆæœ¬çš„å†’æ³¡æ’åº"></a>ä¼˜åŒ–ç‰ˆæœ¬çš„å†’æ³¡æ’åº</h2><p>æ€è·¯ï¼šå‰é¢çš„å†’æ³¡æ’åºåœ¨æ•°ç»„å·²ç»æœ‰åºçš„æ—¶å€™è¿˜ä»ç„¶ä¼šæ¯”è¾ƒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ªflagï¼Œå¦‚æœæŸä¸€è½®æ²¡æœ‰äº¤æ¢æ“ä½œï¼Œè¯´æ˜å½“å‰å·²ç»æœ‰åºï¼Œåé¢çš„ä¸éœ€è¦ç»§ç»­æ¯”è¾ƒå’Œåˆ¤æ–­äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//æ”¹è¿›ç‰ˆçš„å†’æ³¡æ’åºï¼šä¸€æ—¦æŸä¸€è¶Ÿä¸äº¤æ¢åé¢å°±ç›´æ¥é€€å‡º</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BubbleSortV2</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">bubbleSortV2(nums)</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bubbleSortV2</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">flag := <span class="literal">true</span></span><br><span class="line"><span class="comment">//ä»å‰å¾€åè¿›è¡Œäº¤æ¢ï¼Œæ¯æ¬¡éƒ½ä¼šå›ºå®šå¥½åé¢çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums)<span class="number">-1</span> &amp;&amp; flag; i++ &#123;</span><br><span class="line">flag = <span class="literal">false</span></span><br><span class="line"><span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(nums)<span class="number">-1</span>-i; j++ &#123;</span><br><span class="line"><span class="comment">//ä¸¤ä¸¤æ¯”è¾ƒå¹¶äº¤æ¢</span></span><br><span class="line"><span class="keyword">if</span> nums[j] &gt; nums[j+<span class="number">1</span>] &#123;</span><br><span class="line">nums[j], nums[j+<span class="number">1</span>] = nums[j+<span class="number">1</span>], nums[j]</span><br><span class="line">flag = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ’åº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ’åº </tag>
            
            <tag> å†’æ³¡æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›´æ¥æ’å…¥æ’åºä»¥åŠä¼˜åŒ–</title>
      <link href="/2020/09/10/%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E4%BB%A5%E5%8F%8A%E4%BC%98%E5%8C%96/"/>
      <url>/2020/09/10/%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E4%BB%A5%E5%8F%8A%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="ç›´æ¥æ’å…¥æ’åº"><a href="#ç›´æ¥æ’å…¥æ’åº" class="headerlink" title="ç›´æ¥æ’å…¥æ’åº"></a>ç›´æ¥æ’å…¥æ’åº</h2><p><strong>ç›´æ¥æ’å…¥æ’åºæ˜¯ç®€å•æ’åºä¸­æ€§èƒ½æœ€å¥½çš„</strong></p><p>å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š<code>O(n^n / 4)</code><br>æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼š<code>O(n)</code><br>æœ€åæ—¶é—´å¤æ‚åº¦ï¼š<code>O(n^n)</code></p><h3 id="ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬1"><a href="#ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬1" class="headerlink" title="ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬1"></a>ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬1</h3><p>æ€è·¯ï¼šå°†æ¯æ¬¡è¦æ’å…¥çš„å½“å‰å…ƒç´ ä¾æ¬¡ä¸å·¦è¾¹å…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœå·¦è¾¹å…ƒç´ å¤§äºå½“å‰å…ƒç´ åˆ™äº¤æ¢ï¼Œç›´åˆ°å·¦è¾¹å…ƒç´ å°äºç­‰äºå½“å‰å…ƒç´ ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;math/rand&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @Author: yirufeng</span></span><br><span class="line"><span class="comment"> * @Email: yirufeng@foxmail.com</span></span><br><span class="line"><span class="comment"> * @Date: 2020/9/10 9:12 ä¸Šåˆ</span></span><br><span class="line"><span class="comment"> * @Desc: ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InsertSort</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">insertSort(nums)</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ€è·¯ï¼šå¦‚æœå½“å‰å…ƒç´ æ¯”å‰ä¸€ä¸ªå…ƒç´ å°å°±äº¤æ¢ï¼Œä¸€ç›´åˆ°å½“å‰å…ƒç´ å¤§äºç­‰äºå‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertSort</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//é»˜è®¤ä¸‹æ ‡ä¸º0çš„å·²ç»æœ‰åºï¼Œå› æ­¤ä»ä¸‹æ ‡ä¸º1çš„å¼€å§‹æ’å…¥</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line"><span class="comment">//æ’å…¥æ¡ä»¶ï¼šè¦æ’åºçš„å…ƒç´ ä¸€å®šè¦å°äºå‰é¢çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">if</span> nums[i] &lt; nums[i<span class="number">-1</span>] &#123;</span><br><span class="line"><span class="comment">//ä»€ä¹ˆæ—¶å€™ç»“æŸæ’å…¥ï¼šå½“è¦æ’å…¥çš„å…ƒç´ çš„å€¼å¤§äºç­‰äºå‰é¢çš„é‚£ä¸ªå…ƒç´ å°±åœæ­¢æ’å…¥</span></span><br><span class="line"><span class="keyword">for</span> j := i; j &gt;= <span class="number">1</span> &amp;&amp; nums[j] &lt; nums[j<span class="number">-1</span>]; j-- &#123;</span><br><span class="line">nums[j], nums[j<span class="number">-1</span>] = nums[j<span class="number">-1</span>], nums[j]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å†™ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RandArray</span><span class="params">(length <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">nums := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">r := rand.New(rand.NewSource(time.Now().UnixNano()))</span><br><span class="line">nums = <span class="built_in">append</span>(nums, r.Intn(<span class="number">100</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">rand.Seed(time.Now().UnixNano())</span><br><span class="line">nums := RandArray(<span class="number">30</span>)</span><br><span class="line">log.Println(nums)</span><br><span class="line">log.Println(InsertSort(nums))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬2"><a href="#ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬2" class="headerlink" title="ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬2"></a>ç›´æ¥æ’å…¥æ’åºç‰ˆæœ¬2</h3><blockquote><p>æ‘˜è‡ª&lt;&lt;å¤§è¯æ•°æ®ç»“æ„&gt;&gt;</p></blockquote><p>æ€è·¯ï¼šå°†å‰é¢æ¯”è¦æ’å…¥å…ƒç´ å¤§çš„å…ƒç´ æŒªåˆ°åé¢ï¼Œ<strong>æ‰¾åˆ°æ’å…¥ä½ç½®ä¹‹åå°†è¦æ’å…¥å…ƒç´ æ’å…¥å³å¯</strong>ï¼Œæœ€åæ‰¾åˆ°çš„æ’å…¥ä½ç½®ä¸€å®šæ˜¯j+1è€Œä¸æ˜¯jå› ä¸ºæˆ‘ä»¬åˆ¤æ–­äº†nums[j]å°äºç­‰äºæˆ‘ä»¬è¦æ’å…¥çš„å…ƒç´  </p><p><strong>æ³¨æ„ï¼šæ­¤æ—¶è¦è®°å¾—å°†tempæ”¾ç½®åˆ°æ­£ç¡®ä½ç½®</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;math/rand&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @Author: yirufeng</span></span><br><span class="line"><span class="comment"> * @Email: yirufeng@foxmail.com</span></span><br><span class="line"><span class="comment"> * @Date: 2020/9/10 9:12 ä¸Šåˆ</span></span><br><span class="line"><span class="comment"> * @Desc: ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InsertSortV2</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">insertSortV2(nums)</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§è¯æ•°æ®ç»“æ„ä¹¦ä¸Šçš„ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertSortV2</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//é»˜è®¤ä¸‹æ ‡ä¸º0çš„å·²ç»æœ‰åºï¼Œå› æ­¤ä»ä¸‹æ ‡ä¸º1çš„å¼€å§‹æ’å…¥</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line"><span class="comment">//æ’å…¥æ¡ä»¶ï¼šè¦æ’åºçš„å…ƒç´ ä¸€å®šè¦å°äºå‰é¢çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">if</span> nums[i] &lt; nums[i<span class="number">-1</span>] &#123;</span><br><span class="line">temp := nums[i]</span><br><span class="line">j := i<span class="number">-1</span></span><br><span class="line"><span class="comment">//ä»€ä¹ˆæ—¶å€™ç»“æŸæ’å…¥ï¼šå½“è¦æ’å…¥çš„å…ƒç´ çš„å€¼å¤§äºç­‰äºå‰é¢çš„é‚£ä¸ªå…ƒç´ å°±åœæ­¢æ’å…¥</span></span><br><span class="line"><span class="keyword">for</span> ; j &gt;= <span class="number">0</span> &amp;&amp; nums[j] &gt; temp ; j-- &#123;</span><br><span class="line">nums[j+<span class="number">1</span>] = nums[j]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ­¤æ—¶è¦è®°å¾—å°†tempæ”¾ç½®åˆ°æ­£ç¡®ä½ç½®</span></span><br><span class="line">nums[j+<span class="number">1</span>] = temp</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†™ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RandArray</span><span class="params">(length <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">nums := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">r := rand.New(rand.NewSource(time.Now().UnixNano()))</span><br><span class="line">nums = <span class="built_in">append</span>(nums, r.Intn(<span class="number">100</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®éšæœºæ•°ç§å­</span></span><br><span class="line">rand.Seed(time.Now().UnixNano())</span><br><span class="line">nums := RandArray(<span class="number">30</span>)</span><br><span class="line">log.Println(nums)</span><br><span class="line">log.Println(InsertSortV2(nums))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ’åº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ’åº </tag>
            
            <tag> ç›´æ¥æ’å…¥æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoç¯å¢ƒæ­å»º(æ¶µç›–mac + win)å¹¶å°†æˆ‘ä»¬çš„åšå®¢åŒæ­¥å’Œå‘å¸ƒåˆ°github</title>
      <link href="/2019/03/21/hexo%E4%B9%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E7%AF%87/"/>
      <url>/2019/03/21/hexo%E4%B9%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<div class="note warning"><p>å¦‚æœä¸æƒ³ä½¿ç”¨nvmè¿›è¡Œnodeå¤šç‰ˆæœ¬çš„ç®¡ç†ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨å»<a href="http://nodejs.cn/download/">nodeä¸­æ–‡ç½‘</a> ä¸‹è½½<strong>LTSç‰ˆæœ¬</strong>(å®‰è£…çš„æ—¶å€™è®°å¾—æ·»åŠ åˆ°ç¯å¢ƒå˜é‡é€‰é¡¹è¦å‹¾ä¸Š)ï¼Œå®‰è£…åä»ç¬¬å››æ­¥å¼€å§‹æ‰§è¡Œ</p></div><h2 id="ç¬¬ä¸€æ­¥ï¼šå®‰è£…nvm"><a href="#ç¬¬ä¸€æ­¥ï¼šå®‰è£…nvm" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå®‰è£…nvm"></a>ç¬¬ä¸€æ­¥ï¼šå®‰è£…nvm</h2><blockquote><p>è¿™ä¸€æ­¥macå’Œwindowsæœ‰æ‰€åŒºåˆ«</p></blockquote><div class="tabs" id="tab-tab-id"><ul class="nav-tabs"><li class="tab active"><a class="#tab-id-1">mac</a></li><li class="tab"><a class="#tab-id-2">windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-id-1"><ul><li>æ‰§è¡Œ<code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh | bash</code> æˆ– <code>wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh | bash</code><ul><li>æ³¨æ„ï¼šæ³¨æ„åé¢çš„<code>v0.33.8</code>è¿™æ˜¯nvmçš„ç‰ˆæœ¬å·ï¼Œ<a href="https://github.com/coreybutler/nvm-windows/releases">æœ€æ–°ç‰ˆæœ¬æŸ¥çœ‹</a></li></ul></li></ul></div><div class="tab-pane" id="tab-id-2"><ul><li>å‚è€ƒ<a href="https://www.cnblogs.com/jing-tian/p/11225123.html">Windowsä¸‹å®‰è£…åŠä½¿ç”¨nvm</a>åœ¨windowsä¸‹å®‰è£…nvm</li></ul></div></div></div><ul><li>å®‰è£…å®Œæˆåå…³é—­ç»ˆç«¯ï¼Œç„¶åé”®å…¥<code>nvm</code>çœ‹ä¸€ä¸‹æ˜¯å¦æœ‰è¾“å‡ºï¼Œå¦‚æœ<code>command not found</code>è¯·<a href="https://www.jianshu.com/p/622ad36ee020">æŸ¥çœ‹</a></li><li><code>nvm ls</code>æŸ¥çœ‹æ‰€æœ‰å·²å®‰è£…nodeçš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä½¿ç”¨<code>node use &lt;version&gt;</code>å‘½ä»¤é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„nodeç”¨æ¥å®‰è£…hexo</li></ul><p>è¡¥å……ï¼šnvmå¸¸ç”¨å‘½ä»¤ä»‹ç»</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â— nvm install stable  å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ node</span><br><span class="line">â— nvm install &lt;version&gt;  å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼Œå¦‚ï¼šå®‰è£…v4.4.0ï¼Œnvm install v4.4.0</span><br><span class="line">â— nvm uninstall &lt;version&gt;  åˆ é™¤å·²å®‰è£…çš„æŒ‡å®šç‰ˆæœ¬ï¼Œè¯­æ³•ä¸installç±»ä¼¼</span><br><span class="line">â— nvm use &lt;version&gt;  åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬node</span><br><span class="line">â— nvm ls  åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„ç‰ˆæœ¬</span><br><span class="line">â— nvm alias default &lt;version&gt;  å¦‚ï¼š nvm alias default v11.1.0</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="ç¬¬äºŒæ­¥ï¼šå¸è½½åŸæ¥çš„hexo"><a href="#ç¬¬äºŒæ­¥ï¼šå¸è½½åŸæ¥çš„hexo" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå¸è½½åŸæ¥çš„hexo"></a>ç¬¬äºŒæ­¥ï¼šå¸è½½åŸæ¥çš„hexo</h2><ol><li>åˆ é™¤åŸæ¥çš„hexoï¼š<code>npm uninstall -g hexo-cli</code></li></ol><h2 id="ç¬¬ä¸‰æ­¥ï¼šå®‰è£…node"><a href="#ç¬¬ä¸‰æ­¥ï¼šå®‰è£…node" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šå®‰è£…node"></a>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…node</h2><blockquote><p>ç”±äºhexoå¿…é¡»è¦ç”¨npmå®‰è£…ï¼Œhexoå®‰è£…çš„ç‰ˆæœ¬å–å†³äºnodeçš„ç‰ˆæœ¬</p></blockquote><ol><li>ä½¿ç”¨nvmé€‰æ‹©æˆ‘ä»¬çš„nodeç‰ˆæœ¬ï¼Œå¦‚æœå¯¹åº”ç‰ˆæœ¬æ²¡æœ‰å®‰è£…ï¼Œé¦–å…ˆä½¿ç”¨nvmå®‰è£…å¯¹åº”ç‰ˆæœ¬çš„nodeã€‚<code>nvm install &lt;version&gt;</code></li><li>åˆ‡æ¢åˆ°å¯¹åº”çš„nodeç‰ˆæœ¬ï¼š<code>npm use &lt;version&gt;</code></li></ol><h2 id="ç¬¬å››æ­¥ï¼šå®‰è£…hexo"><a href="#ç¬¬å››æ­¥ï¼šå®‰è£…hexo" class="headerlink" title="ç¬¬å››æ­¥ï¼šå®‰è£…hexo"></a>ç¬¬å››æ­¥ï¼šå®‰è£…hexo</h2><ol><li>å®‰è£…hexoï¼š <code>npm install -g hexo-cli</code></li></ol><h2 id="ç¬¬äº”æ­¥ï¼šåŒæ­¥å¹¶å‘å¸ƒè‡ªå·±çš„åšå®¢-CI-CD"><a href="#ç¬¬äº”æ­¥ï¼šåŒæ­¥å¹¶å‘å¸ƒè‡ªå·±çš„åšå®¢-CI-CD" class="headerlink" title="ç¬¬äº”æ­¥ï¼šåŒæ­¥å¹¶å‘å¸ƒè‡ªå·±çš„åšå®¢(CI + CD)"></a>ç¬¬äº”æ­¥ï¼šåŒæ­¥å¹¶å‘å¸ƒè‡ªå·±çš„åšå®¢(CI + CD)</h2><blockquote><p>è¿™é‡Œå‡è®¾æˆ‘ä»¬çš„åšå®¢æ–‡ç« å·²ç»ç¼–å†™å®Œæˆ</p></blockquote><p>è¿™ä¸€éƒ¨åˆ†æ¶‰åŠåˆ°ä¸¤éƒ¨åˆ†å†…å®¹ï¼š</p><ol><li>(å¤‡ä»½)åŒæ­¥åšå®¢æºå†…å®¹åˆ°githubï¼šé¿å…ä¹‹å‰ç¼–å†™çš„åšå®¢å†…å®¹ä¸¢å¤±</li><li>(å‘å¸ƒ)å°†æˆ‘ä»¬ç¼–å†™çš„åšå®¢å‘å¸ƒåˆ°githubï¼šå¯ä»¥ä»¥ç½‘é¡µçš„å½¢å¼çœ‹åˆ°æˆ‘ä»¬ç¼–å†™ä¹‹åçš„å†…å®¹</li></ol><h3 id="å…·ä½“æ­¥éª¤"><a href="#å…·ä½“æ­¥éª¤" class="headerlink" title="å…·ä½“æ­¥éª¤"></a>å…·ä½“æ­¥éª¤</h3><ol><li>åœ¨æˆ‘ä»¬çš„åšå®¢æ ¹ç›®å½•ä¸‹æ–°å»º<code>.github</code>ç›®å½•ï¼Œç„¶åè¿›å…¥<code>.github</code>ç›®å½•æ–°å»º<code>workflows</code>ç›®å½•ï¼Œè¿›å…¥ä¹‹åæ–°å»º<code>deploy.yml</code>æ–‡ä»¶</li><li>é”®å…¥å¦‚ä¸‹å†…å®¹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">name: Build and Deploy</span><br><span class="line">on: </span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - source</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build-and-deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">      - name: Checkout ğŸ›ï¸</span><br><span class="line">        uses: actions&#x2F;checkout@v2 # If you&#39;re using actions&#x2F;checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.</span><br><span class="line">        with:</span><br><span class="line">          persist-credentials: false</span><br><span class="line"></span><br><span class="line">      - name: Install and Build ğŸ”§ # This example project is built using npm and outputs the result to the &#39;build&#39; folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.</span><br><span class="line">        run: |</span><br><span class="line">          npm install</span><br><span class="line">          npm run build</span><br><span class="line">        env:</span><br><span class="line">          CI: false</span><br><span class="line"></span><br><span class="line">      - name: Deploy ğŸš€</span><br><span class="line">        uses: JamesIves&#x2F;github-pages-deploy-action@releases&#x2F;v3</span><br><span class="line">        with:</span><br><span class="line">          GITHUB_TOKEN: $&#123;&#123; secrets.ACCESS_TOKEN &#125;&#125;</span><br><span class="line">          BRANCH: main # The branch the action should deploy to.</span><br><span class="line">          FOLDER: public # The folder the action should deploy.</span><br></pre></td></tr></table></figure></li><li>é…ç½®ACCESS_TOKEN<ol><li>è¿›å…¥<a href="https://github.com/settings/tokens">github tokené¡µé¢</a></li><li>ç‚¹å‡»<code>generate new token</code>å…¨é€‰ä¹‹åå°†å°†ç”Ÿæˆçš„tokenèµ‹å€¼</li><li>è¿›å…¥è‡ªå·±çš„<code>ç”¨æˆ·å.github.io</code>ä»“åº“ï¼Œç„¶åç‚¹å‡»<code>settings</code>-&gt;<code>secrets</code>-&gt;<code>New repository secret</code>-&gt;åå­—æ˜¯<code>ACCESS_TOKEN</code>ï¼Œå€¼æ˜¯åˆšæ‰ç”Ÿæˆçš„token</li></ol></li><li>ä½¿ç”¨gitçš„<code>add</code>ã€<code>commit</code>ã€<code>push</code> å‘½ä»¤æäº¤</li></ol><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>åšå®¢çš„æºä»£ç å­˜æ”¾åˆ° <code>ç”¨æˆ·å.github.io</code>è¿™ä¸ªä»“åº“ä¸‹çš„sourceåˆ†æ”¯ä¸‹</li><li>åšå®¢çš„å‘å¸ƒæµç¨‹æˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»é…ç½®åˆ°äº†githubçš„actionä¸­ï¼Œgithubä¼šåœ¨æˆ‘ä»¬pushåˆ°sourceåˆ†æ”¯çš„æ—¶å€™ç›´æ¥æ‹‰å–ä»£ç ç„¶åå‘å¸ƒåˆ°mainåˆ†æ”¯ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>ç”¨æˆ·å.github.io</code>è¿™ä¸ªåŸŸåè¿›è¡Œè®¿é—®äº†</li></ul><p>ä¹‹åæ¯æ¬¡æäº¤è®°å¾—åœ¨sourceåˆ†æ”¯ä¸‹æ“ä½œ</p><h2 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h2><blockquote><p>åšå®¢æ­å»ºå¥½ä¹‹åï¼Œåªéœ€è¦é€‰ä¸€ä¸ªåˆé€‚çš„ä¸»é¢˜ï¼Œå°±å¯ä»¥ä¹¦å†™è‡ªå·±çš„åšå®¢äº†</p></blockquote><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://blog.csdn.net/u013778905/article/details/83501204">GitHubå¦‚ä½•é…ç½®SSH Key</a></li><li><a href="https://www.imczw.com/post/tech/hexo5-next8-updated.html">Hexo-5.x ä¸ NexT-8.x è·¨ç‰ˆæœ¬å‡çº§</a></li><li><a href="https://www.bilibili.com/video/BV1dt4y1Q7UE?from=search&seid=14792497382015603750">ã€å¹²è´§ã€‘Lukeæ•™ä½ 20åˆ†é’Ÿå¿«é€Ÿæ­å»ºä¸ªäººåšå®¢ç³»åˆ—(hexoç¯‡) | è‡ªåŠ¨åŒ–éƒ¨ç½²åœ¨çº¿ç¼–è¾‘ç»Ÿç»Ÿæå®š | å‰ç«¯å¿…ä¼šï¼</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
